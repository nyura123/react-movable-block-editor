{"version":3,"sources":["transparent.png","../../../dist/react-movable-block-editor.es.production.js","CustomEditorToolBar.tsx","CustomBlocks.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","m","t","r","n","Object","tslib_es6","id","I","o","parentId","i","childrenIds","findIndex","e","a","filter","b","y","indexOf","length","console","warn","newParentId","d","beforeItemId","afterItemId","itemId","slice","splice","concat","w","k","__webpack_require__","cloneDeep","C","value","children","map","N","byId","copiedNode","B","x","type","l","c","u","s","newId","keys","R","O","isPlaceHolder","absolutePos","top","left","W","focusedNodeId","M","clientX","clientY","width","height","H","_","apply","this","arguments","prototype","renderChild","props","changeBlocks","getNode","undoRedoVersion","renderEditBlock","node","render","paddingLeftPercentWidth","paddingTopPercentHeight","react","style","position","backgroundColor","borderRadius","key","transform","react_movable_block_editor_es_production_F","useDrag","item","collect","isDragging","useDrop","accept","canDrop","drop","isOver","shallow","getClientOffset","getSourceClientOffset","getInitialClientOffset","getInitialSourceClientOffset","getItem","initialClientOffset","clientOffset","dragSourceItemType","dragSourceItemId","sourceClientOffset","initialSourceClientOffset","current","getBoundingClientRect","ref","react_movable_block_editor_es_production_j","wantToPlaceNext","react_default","createElement","display","flexDirection","borderStyle","borderWidth","Children","count","className","react_movable_block_editor_es_production_z","g","h","f","p","v","U","borderBottomWidth","react_movable_block_editor_es_production_X","Y","selfRef","getBoundingRect","padding","src","react_movable_block_editor_es_production_A","q","update","name","placeholder","outline","onChange","target","react_movable_block_editor_es_production_J","react_movable_block_editor_es_production_G","onClick","stopPropagation","borderColor","react_resizable","onResizeStart","preventDefault","onResize","size","react_movable_block_editor_es_production_K","Q","haveHtml5DndAPI","navigator","userAgent","match","window","document","state","onSendOp","setState","componentDidMount","componentDidUpdate","undoStack","rootNodeId","esm","dist_esm","DndProvider","backend","defaultProps","Z","borderTopWidth","borderLeftWidth","borderRightWidth","$","color","justifyContent","alignItems","react_movable_block_editor_es_production_ee","renderPreviewBlock","react_movable_block_editor_es_production_te","react_markdown_default","source","react_movable_block_editor_es_production_re","onSelect","navClassName","itemClassName","unshift","label","aria-label","aria-current","ne","oe","error","join","Math","max","createdBlock","ie","ce","selectedMenu","selectedColor","toggleMenu","renderColorMenuItem","Fragment","react_movable_block_editor_es_production_ue","zIndex","buttonClassName","updateBlock","lib","onChangeComplete","hex","breadCrumbsProps","focusNode","addRow","addCol","addLayer","addMarkDown","addImage","alert","prompt","min","parseInt","undo","redo","paddingLeft","moveInDirection","copyFocused","paste","removeFocused","paddingBottom","prop","numeric","marginRight","htmlFor","Component","fontSize","se","de","ae","le","destroy","create","E","P","move","direction","stepPx","S","redoStack","UiComponent","controlUiProps","useStyles","makeStyles","theme","button","margin","spacing","fab","textField","marginLeft","input","CustomEditorToolBar","_props$value","selectedNode","_useState","useState","_useState2","slicedToArray","setSelectedMenu","_useState3","undefined","_useState4","setSelectedColor","classes","menu","which","CustomEditorToolBar_ColorButton","Button","defineProperty","react_color_lib","_ref","focusedNode","btnCls","Tooltip","title","numRowsStr","numColsStr","widthStr","heightStr","_addCol","newValue","table","tableId","numRows","numCols","_addRow","row","j","_addCol2","col","addTable","parentNode","newNodeId","newBlockId","customType","objectSpread","placeNodeInParent","addInput","ArrowBack_default","ArrowForward_default","ArrowUpward_default","ArrowDownward_default","nodeId","flipToFront","FlipToFront_default","Delete_default","assign","blockProp","TextField","event","InputLabelProps","shrink","ColorButton","marginTop","alt","TransparentPng","myRenderEditBlock","CustomBlocks_MyEditInputBlock","renderCustomEditBlock","defaultRenderEditBlock","myRenderPreviewBlock","_ref2","CustomBlocks_MyPreviewInputBlock","renderCustomPreviewBlock","defaultRenderPreviewBlock","MyEditInputBlock","useRef","draggable","onDragStart","T","dataTransfer","setData","JSON","stringify","startLeft","startTop","MyPreviewInputBlock","paper","breadcrumbNav","listStyleType","breadcrumbItem","cursor","&::before","content","App","container1","layer1","input1","input2","image1","row1","editorState","setEditorState","showLoadJsonModal","setShowLoadJsonModal","_useState5","_useState6","showViewJsonModal","setShowViewJsonModal","_useState7","_useState8","inputJson","setInputJson","_useState9","_useState10","loadFromJson","parse","rootNode","log","Grid","container","md","Modal","aria-labelledby","aria-describedby","open","onClose","Boolean","location","hostname","ReactDOM","src_App_0","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9c3cfb96.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import { __assign as e, __extends as t } from \"tslib\";\nimport * as r from \"react\";\nimport n, { useRef as o, createElement as i, Component as d, Children as a } from \"react\";\nimport { useDrag as l, useDrop as c, DndProvider as u } from \"react-dnd\";\nimport { ResizableBox as s } from \"react-resizable\";\nimport { cloneDeep as h } from \"lodash-es\";\nimport f from \"react-dnd-html5-backend\";\nimport p from \"react-dnd-touch-backend\";\nimport g from \"react-markdown\";\nimport { SketchPicker as v } from \"react-color\";\n\nfunction m(t, r) {\n  var n;\n  return e({}, t, (n = {}, n[r.id] = r, n));\n}\n\nfunction I(t, r) {\n  var n,\n      o = t[r];\n  if (!o) return t;\n\n  if (o && o.parentId) {\n    var i = t[o.parentId];\n\n    if (i) {\n      var d = i.childrenIds.findIndex(function (e) {\n        return e === o.id;\n      });\n\n      if (d >= 0) {\n        var a = i.childrenIds.filter(function (e) {\n          return e !== o.id;\n        });\n        t = m(t, e({}, i, {\n          childrenIds: a\n        }));\n      }\n    }\n  }\n\n  return e({}, t, (n = {}, n[r] = void 0, n));\n}\n\nfunction y(e, t, r) {\n  var n = e[t];\n  if (!n) return !1;\n  if (n.childrenIds.indexOf(r) >= 0) return !0;\n\n  for (var o = 0, i = n.childrenIds; o < i.length; o++) {\n    var d = i[o],\n        a = y(e, d, r);\n    if (a) return !1;\n  }\n\n  return !1;\n}\n\nfunction b(t, r, n, o) {\n  if (!r) return t;\n  if (y(t, r.id, n)) return console.warn(\"node \", r.id, \" has \", n, \" as child, so cannot make it into\", r.id, \"'s parent\"), t;\n  if (r.id === n) return console.warn(\"Cannot place into self: \", {\n    id: r.id,\n    newParentId: n\n  }), t;\n\n  if (r && r.parentId && r.parentId !== n) {\n    var i = t[r.parentId];\n\n    if (i) {\n      var d = i.childrenIds.filter(function (e) {\n        return e !== r.id;\n      });\n      t = m(t, e({}, i, {\n        childrenIds: d\n      }));\n    }\n  }\n\n  var a = t[n];\n\n  if (a) {\n    d = w(a.childrenIds, r.id, o);\n    t = m(t, e({}, a, {\n      childrenIds: d\n    }));\n  }\n\n  return m(t, e({}, r, {\n    parentId: n\n  }));\n}\n\nfunction w(t, r, n) {\n  if (void 0 === n && (n = {}), r === n.beforeItemId || r === n.afterItemId) return console.warn(\"Cannot place relative to self: \", e({\n    itemId: r\n  }, n)), t;\n  t = t.filter(function (e) {\n    return e !== r;\n  });\n  var o = n.beforeItemId,\n      i = n.afterItemId,\n      d = -1;\n\n  if (o ? d = t.findIndex(function (e) {\n    return e === o;\n  }) : i && (d = t.findIndex(function (e) {\n    return e === i;\n  }) + 1), d >= 0) {\n    var a = t.slice();\n    return a.splice(d, 0, r), a;\n  }\n\n  return t.concat([r]);\n}\n\nvar k = require(\"lodash-es\").cloneDeep;\n\nfunction C(t, r) {\n  return r ? e({}, r, {\n    value: k(r.value),\n    childrenIds: r.childrenIds.slice(),\n    children: r.childrenIds.map(function (e) {\n      var r = t[e];\n      return C(t, r);\n    })\n  }) : r;\n}\n\nfunction N(t) {\n  var r = t.byId,\n      n = (t || {\n    copiedNode: null\n  }).copiedNode;\n  if (!n) return t;\n  n = k(n);\n  var o = B(r, n).byId;\n\n  if (n.parentId) {\n    var i = r[n.parentId];\n    if (i) return e({}, t, {\n      byId: b(o, n, n.parentId, {\n        afterItemId: i.childrenIds[i.childrenIds.length - 1]\n      })\n    });\n  }\n\n  return t;\n}\n\nfunction B(t, r) {\n  var n;\n  r.id = x(t, r.type);\n  var o = r.children;\n  if (r.children = void 0, t = e({}, t, (n = {}, n[r.id] = r, n)), o) for (var i = 0, d = 0, a = o; d < a.length; d++) {\n    var l = a[d];\n    l.parentId = r.id;\n    var c = B(t, l),\n        u = c.byId,\n        s = c.newId;\n    r.childrenIds[i] = s, t = u, ++i;\n  }\n  return {\n    byId: t,\n    newId: r.id\n  };\n}\n\nfunction x(e, t) {\n  void 0 === t && (t = \"node\");\n\n  for (var r = Object.keys(e).length; e[r];) {\n    r++;\n  }\n\n  return t + \"_\" + r;\n}\n\nfunction E(t, r) {\n  var n = t.byId,\n      o = x(n),\n      i = e({}, n[o], r);\n  return i ? e({}, t, {\n    byId: m(n, i)\n  }) : t;\n}\n\nfunction R(t, r, n) {\n  var o = t.byId,\n      i = e({}, o[r], n);\n  return i ? e({}, t, {\n    byId: m(o, i)\n  }) : t;\n}\n\nfunction P(t, r) {\n  var n = t.byId,\n      o = t.rootNodeId,\n      i = t.focusedNodeId;\n  return o === r ? (alert(\"Cannot destroy root node\"), e({}, t, {\n    byId: n,\n    focusedNodeId: i\n  })) : e({}, t, {\n    byId: I(n, r),\n    focusedNodeId: i === r ? null : i\n  });\n}\n\nfunction O(t, r, n, o) {\n  if (void 0 === o && (o = {}), !n) return t;\n  var i = t.byId,\n      d = i[r];\n  return e({}, t, {\n    byId: b(i, e({}, d, {\n      isPlaceHolder: o.isPlaceHolder\n    }, o.absolutePos ? {\n      top: o.absolutePos.top,\n      left: o.absolutePos.left\n    } : {}), n, o)\n  });\n}\n\nfunction S(t, r, n) {\n  void 0 === n && (n = {});\n  var o = t.byId,\n      i = o[r];\n  if (!i) return t;\n  var d = i.parentId;\n  if (!d) return t;\n  var a = o[d];\n  if (!a || !a.parentId) return t;\n  var l = o[a.parentId],\n      c = a.childrenIds.indexOf(r);\n  if (c < 0) return t;\n  var u = {};\n  if (\"row\" === a.type) {\n    if (\"left\" === n.direction) {\n      if (0 === c) return t;\n      u = {\n        beforeItemId: a.childrenIds[c - 1]\n      };\n    } else {\n      if (\"right\" !== n.direction) {\n        if (l && \"col\" === l.type) {\n          var s = l.childrenIds.indexOf(a.id);\n          return s > 0 && \"up\" === n.direction ? O(t, r, l.childrenIds[s - 1]) : s < l.childrenIds.length - 1 && \"down\" === n.direction ? O(t, r, l.childrenIds[s + 1]) : t;\n        }\n\n        return t;\n      }\n\n      if (c >= a.childrenIds.length - 1) return t;\n      u = {\n        afterItemId: a.childrenIds[c + 1]\n      };\n    }\n  } else if (\"col\" === a.type) {\n    if (\"up\" === n.direction) {\n      if (0 === c) return t;\n      u = {\n        beforeItemId: a.childrenIds[c - 1]\n      };\n    } else {\n      if (\"down\" !== n.direction) {\n        if (l && \"row\" === l.type) {\n          s = l.childrenIds.indexOf(a.id);\n          return s > 0 && \"left\" === n.direction ? O(t, r, l.childrenIds[s - 1]) : s < l.childrenIds.length - 1 && \"right\" === n.direction ? O(t, r, l.childrenIds[s + 1]) : t;\n        }\n\n        return t;\n      }\n\n      if (c >= a.childrenIds.length - 1) return t;\n      u = {\n        afterItemId: a.childrenIds[c + 1]\n      };\n    }\n  } else if (\"layer\" === a.type) {\n    var h = (\"up\" === n.direction ? -1 : \"down\" === n.direction ? 1 : 0) * (n.stepPx || 1),\n        f = (\"left\" === n.direction ? -1 : \"right\" === n.direction ? 1 : 0) * (n.stepPx || 1);\n    u = {\n      absolutePos: {\n        top: (i.top || 0) + h,\n        left: (i.left || 0) + f\n      }\n    };\n  }\n  return e({}, t, {\n    byId: b(o, e({}, i, {\n      isPlaceHolder: u.isPlaceHolder\n    }, u.absolutePos ? {\n      top: u.absolutePos.top,\n      left: u.absolutePos.left\n    } : {}), d, u)\n  });\n}\n\nfunction W(t, r, n) {\n  if (void 0 === n && (n = !0), !r) return t;\n  var o = t.focusedNodeId;\n  return e({}, t, {\n    focusedNodeId: n ? r.id : o === r.id ? null : o\n  });\n}\n\nfunction D(e) {\n  var t = e.filter(function (e) {\n    return 0 === e.indexOf(\"draggednodeid:\");\n  }),\n      r = e.filter(function (e) {\n    return 0 === e.indexOf(\"draggednodetype:\");\n  });\n  if (1 !== t.length || 1 !== r.length) return {\n    draggedNodeId: \"notanode\",\n    draggedNodeType: null\n  };\n  var n = t[0].slice(\"draggednodeid:\".length),\n      o = r[0].slice(\"draggednodetype:\".length);\n  return {\n    draggedNodeId: n,\n    draggedNodeType: o\n  };\n}\n\nfunction T(e, t) {\n  return t ? {\n    left: e.clientX - t.left,\n    top: e.clientY - t.top,\n    width: t.width,\n    height: t.height\n  } : null;\n}\n\nfunction M(e, t) {\n  var r = e.clientX,\n      n = e.clientY;\n  return t ? {\n    left: r - t.left,\n    top: n - t.top,\n    width: t.width,\n    height: t.height\n  } : null;\n}\n\nfunction L(e, t, r) {\n  e.stopPropagation();\n  var n = T(e, r());\n  n && e.dataTransfer.setData(\"text/plain\", JSON.stringify({\n    startLeft: n.left,\n    startTop: n.top\n  })), e.dataTransfer.setData(\"draggednodeid:\" + t.id, \"\"), e.dataTransfer.setData(\"draggednodetype:\" + t.type, \"\");\n}\n\nfunction V(e, t, r) {\n  void 0 === r && (r = {});\n  var n = D(e).draggedNodeId;\n  return function (e) {\n    return O(e, n, t, r);\n  };\n}\n\nfunction H(e, t, r) {\n  return void 0 === r && (r = {}), function (n) {\n    return O(n, e, t, r);\n  };\n}\n\nvar _ = function (e) {\n  function r() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return t(r, e), r.prototype.renderChild = function (e) {\n    var t = this.props,\n        r = t.changeBlocks,\n        n = t.getNode,\n        o = t.undoRedoVersion,\n        i = t.focusedNodeId,\n        d = t.renderEditBlock,\n        a = n(e);\n    return a ? d({\n      node: a,\n      renderEditBlock: d,\n      undoRedoVersion: o,\n      changeBlocks: r,\n      getNode: n,\n      focusedNodeId: i\n    }) : null;\n  }, r.prototype.render = function () {\n    var e = this,\n        t = this.props,\n        r = t.node,\n        n = t.getNode,\n        o = r.childrenIds,\n        d = (void 0 !== r.paddingLeftPercentWidth ? r.paddingLeftPercentWidth : .05) * r.width,\n        a = (void 0 !== r.paddingTopPercentHeight ? r.paddingTopPercentHeight : .05) * r.height;\n    return i(\"div\", {\n      style: {\n        position: \"relative\",\n        width: r.width,\n        height: r.height,\n        backgroundColor: r.backgroundColor || \"#f5f5f5a3\",\n        borderRadius: 3\n      }\n    }, o.map(function (t) {\n      var r = n(t);\n      if (!r) return null;\n      var o = i(\"div\", {\n        key: \"node_\" + t,\n        style: {\n          position: \"absolute\",\n          width: r.width,\n          height: r.height,\n          top: a,\n          left: d,\n          transform: \"translate(\" + r.left + \"px,\" + r.top + \"px)\"\n        }\n      }, e.renderChild(t));\n      return o;\n    }));\n  }, r;\n}(d),\n    F = function F(t) {\n  var r = o(null),\n      n = l({\n    item: {\n      type: \"col\",\n      id: t.node.id\n    },\n    collect: function collect(e) {\n      return {\n        isDragging: e.isDragging()\n      };\n    }\n  }),\n      d = n[1],\n      a = c({\n    accept: [\"col\", \"row\", \"layer\", \"custom\", \"image\", \"markdown\"],\n    canDrop: function canDrop(e) {\n      var t = e.type;\n      return \"row\" === t || \"col\" === t || \"markdown\" === t || \"image\" === t || \"layer\" === t || \"custom\" === t;\n    },\n    drop: function drop(e, r) {\n      var n = r.isOver({\n        shallow: !0\n      }),\n          o = r.getClientOffset(),\n          i = r.getSourceClientOffset(),\n          d = r.getInitialClientOffset(),\n          a = r.getInitialSourceClientOffset();\n      if (!(n && e && i && o && d && a)) return null;\n      var l = M({\n        clientX: o.x,\n        clientY: o.y\n      }, s()),\n          c = t.node.childrenIds.length ? t.node.childrenIds[t.node.childrenIds.length - 1] : void 0;\n      return t.changeBlocks(H(e.id, t.node.id, l ? {\n        afterItemId: c,\n        absolutePos: {\n          top: l.top - (d.y - a.y),\n          left: l.left - (d.x - a.x)\n        }\n      } : void 0)), {\n        type: \"layer\",\n        id: t.node.id\n      };\n    },\n    collect: function collect(e) {\n      var t = e.getItem();\n      return {\n        isOver: e.isOver({\n          shallow: !0\n        }),\n        initialClientOffset: e.getInitialClientOffset(),\n        clientOffset: e.getClientOffset(),\n        dragSourceItemType: t ? t.type : \"\",\n        dragSourceItemId: t ? t.id : \"\",\n        sourceClientOffset: e.getSourceClientOffset(),\n        initialSourceClientOffset: e.getInitialSourceClientOffset()\n      };\n    }\n  }),\n      u = a[1],\n      s = function s() {\n    return r.current && r.current.getBoundingClientRect ? r.current.getBoundingClientRect() : null;\n  };\n\n  return i(\"div\", {\n    ref: r,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, i(\"div\", {\n    ref: u,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, i(\"div\", {\n    ref: d,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, i(_, e({}, t)))));\n},\n    j = function j(e) {\n  var t = e.wantToPlaceNext,\n      r = e.children,\n      o = e.node,\n      i = e.getNode,\n      d = o.childrenIds,\n      a = (void 0 !== o.paddingLeftPercentWidth ? o.paddingLeftPercentWidth : .05) * o.width,\n      l = (void 0 !== o.paddingTopPercentHeight ? o.paddingTopPercentHeight : .05) * o.height,\n      c = \"firstChild\" === t ? 3 : 0;\n  return n.createElement(\"div\", {\n    key: \"col_\" + o.id,\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, \"left\" === t && n.createElement(\"div\", {\n    style: {\n      height: \"100%\",\n      width: 3,\n      backgroundColor: \"green\"\n    }\n  }), n.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      height: \"100%\",\n      position: \"relative\",\n      borderRadius: 3,\n      backgroundColor: e.node.isPlaceHolder ? \"grey\" : e.node.backgroundColor || \"#ffffffa8\",\n      borderStyle: \"dashed\",\n      borderWidth: 1\n    }\n  }, \"firstChild\" === t && n.createElement(\"div\", {\n    style: {\n      height: 10,\n      width: \"100%\",\n      position: \"absolute\",\n      top: l,\n      left: a,\n      transform: \"translate(0,\" + c + \"px)\",\n      backgroundColor: \"blue\"\n    }\n  }), n.Children.count(r) ? r : d.map(function (t) {\n    var r = i(t);\n    if (!r) return null;\n    var o = n.createElement(\"div\", {\n      className: \"drag-node\",\n      key: \"node_\" + t,\n      style: {\n        position: \"absolute\",\n        width: r.width,\n        height: r.height,\n        top: l,\n        left: a,\n        transform: \"translate(0,\" + c + \"px)\"\n      }\n    }, function (t) {\n      var r = e.getNode,\n          n = e.changeBlocks,\n          o = e.undoRedoVersion,\n          i = e.focusedNodeId,\n          d = e.renderEditBlock,\n          a = r(t);\n      return a ? d({\n        node: a,\n        undoRedoVersion: o,\n        renderEditBlock: d,\n        focusedNodeId: i,\n        changeBlocks: n,\n        getNode: r\n      }) : null;\n    }(t));\n    return c += r.height, o;\n  }), \"lastChild\" === t && n.createElement(\"div\", {\n    style: {\n      top: a,\n      left: l,\n      transform: \"translate(0,\" + c + \"px)\",\n      position: \"absolute\",\n      height: 10,\n      width: \"100%\",\n      backgroundColor: \"orange\"\n    }\n  })), \"right\" === t && n.createElement(\"div\", {\n    style: {\n      height: \"100%\",\n      width: 3,\n      backgroundColor: \"white\"\n    }\n  }));\n},\n    z = function z(t) {\n  var r = o(null),\n      i = l({\n    item: {\n      type: \"col\",\n      id: t.node.id\n    },\n    collect: function collect(e) {\n      return {\n        isDragging: e.isDragging()\n      };\n    }\n  }),\n      d = i[1],\n      a = c({\n    accept: [\"col\", \"row\", \"layer\", \"custom\", \"image\", \"markdown\"],\n    canDrop: function canDrop(e) {\n      var r = t.getNode,\n          n = t.node,\n          o = n.parentId ? r(n.parentId) : null,\n          i = e.type;\n      return \"col\" === i && o && \"row\" === o.type || !t.children && (\"row\" === i || \"markdown\" === i || \"image\" === i || \"layer\" === i || \"custom\" === i);\n    },\n    drop: function drop(r, n) {\n      var o = n.isOver({\n        shallow: !0\n      });\n      if (!o || !r) return null;\n\n      if (\"col\" === r.type) {\n        var i = g(\"x\"),\n            d = i ? {\n          beforeItemId: t.node.id\n        } : {\n          afterItemId: t.node.id\n        };\n        t.changeBlocks(H(r.id, t.node.parentId || \"\", e({}, d)));\n      } else {\n        i = g(\"y\");\n        var a = t.node.childrenIds,\n            l = a.length;\n        d = l ? i ? {\n          beforeItemId: a[0]\n        } : {\n          afterItemId: a[l - 1]\n        } : null;\n        t.changeBlocks(H(r.id, t.node.id, e({}, d)));\n      }\n\n      return {\n        type: \"col\",\n        id: t.node.id\n      };\n    },\n    collect: function collect(e) {\n      var t = e.getItem();\n      return {\n        isOver: e.isOver({\n          shallow: !0\n        }),\n        initialClientOffset: e.getInitialClientOffset(),\n        clientOffset: e.getClientOffset(),\n        dragSourceItemType: t ? t.type : \"\",\n        dragSourceItemId: t ? t.id : \"\",\n        initialSourceClientOffset: e.getInitialSourceClientOffset()\n      };\n    }\n  }),\n      u = a[0],\n      s = u.clientOffset,\n      h = u.dragSourceItemType,\n      f = u.isOver,\n      p = a[1],\n      g = function g(e) {\n    if (!s || !f) return !1;\n    var t = M({\n      clientX: s.x,\n      clientY: s.y\n    }, r.current && r.current.getBoundingClientRect ? r.current.getBoundingClientRect() : null),\n        n = t && (\"y\" === e ? t.top / t.height < .45 : t.left / t.width < .45);\n    return n;\n  },\n      v = function (e) {\n    if (!e || !f) return null;\n\n    if (\"col\" === e) {\n      var t = g(\"x\");\n      return t ? \"left\" : \"right\";\n    }\n\n    var r = g(\"y\");\n    return r ? \"firstChild\" : \"lastChild\";\n  }(h);\n\n  return n.createElement(\"div\", {\n    ref: r,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, n.createElement(\"div\", {\n    ref: p,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, n.createElement(\"div\", {\n    ref: d,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, n.createElement(j, e({}, t, {\n    wantToPlaceNext: v\n  })))));\n},\n    U = function (e) {\n  function r() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return t(r, e), r.prototype.render = function () {\n    var e = this.props.children,\n        t = this.props,\n        r = t.wantToPlaceNext,\n        n = t.node,\n        o = t.getNode,\n        d = t.undoRedoVersion,\n        l = t.changeBlocks,\n        c = t.renderEditBlock,\n        u = t.focusedNodeId,\n        s = (void 0 !== n.paddingLeftPercentWidth ? n.paddingLeftPercentWidth : .05) * n.width,\n        h = (void 0 !== n.paddingTopPercentHeight ? n.paddingTopPercentHeight : .05) * n.height,\n        f = \"firstChild\" === r ? 3 : 0;\n    return i(\"div\", {\n      key: \"row_\" + n.id\n    }, \"top\" === r && i(\"div\", {\n      style: {\n        height: 3,\n        width: \"100%\",\n        backgroundColor: \"black\"\n      }\n    }), i(\"div\", {\n      style: {\n        position: \"relative\",\n        height: n.height,\n        width: n.width,\n        borderStyle: \"dashed\",\n        borderWidth: 0,\n        borderBottomWidth: 1,\n        backgroundColor: n.isPlaceHolder ? \"darkgrey\" : n.backgroundColor || \"#b5bbb9b0\"\n      }\n    }, \"firstChild\" === r && i(\"div\", {\n      style: {\n        height: \"100%\",\n        width: 3,\n        backgroundColor: \"blue\",\n        position: \"absolute\",\n        top: h,\n        left: s,\n        transform: \"translate(\" + f + \"px,0)\"\n      }\n    }), a.count(e) ? e : n.childrenIds.map(function (e) {\n      var t = o(e);\n      if (!t) return null;\n      var r = i(\"div\", {\n        className: \"drag-node\",\n        key: \"node_\" + t.id,\n        style: {\n          position: \"absolute\",\n          width: t.width,\n          height: t.height,\n          top: h,\n          left: s,\n          transform: \"translate(\" + f + \"px,0)\"\n        }\n      }, c({\n        node: t,\n        getNode: o,\n        undoRedoVersion: d,\n        focusedNodeId: u,\n        renderEditBlock: c,\n        changeBlocks: l\n      }));\n      return f += t.width, r;\n    }), \"lastChild\" === r && i(\"div\", {\n      style: {\n        position: \"absolute\",\n        top: h,\n        left: s,\n        transform: \"translate(\" + f + \"px,0)\",\n        height: \"100%\",\n        width: 3,\n        backgroundColor: \"orange\"\n      }\n    })), \"bottom\" === r && i(\"div\", {\n      style: {\n        height: 3,\n        width: \"100%\",\n        backgroundColor: \"green\"\n      }\n    }));\n  }, r;\n}(d),\n    X = function X(t) {\n  var r = o(null),\n      n = l({\n    item: {\n      type: \"row\",\n      id: t.node.id\n    },\n    collect: function collect(e) {\n      return {\n        isDragging: e.isDragging()\n      };\n    }\n  }),\n      d = n[1],\n      a = c({\n    accept: [\"col\", \"row\", \"layer\", \"custom\", \"image\", \"markdown\"],\n    canDrop: function canDrop(e) {\n      var r = t.getNode,\n          n = t.node,\n          o = n.parentId ? r(n.parentId) : null,\n          i = e.type;\n      return \"row\" === i && o && \"col\" === o.type || !t.children && (\"col\" === i || \"markdown\" === i || \"image\" === i || \"layer\" === i || \"custom\" === i);\n    },\n    drop: function drop(r, n) {\n      var o = n.isOver({\n        shallow: !0\n      });\n      if (!o || !r) return null;\n\n      if (\"row\" === r.type) {\n        var i = g(\"y\"),\n            d = i ? {\n          beforeItemId: t.node.id\n        } : {\n          afterItemId: t.node.id\n        };\n        t.changeBlocks(H(r.id, t.node.parentId || \"\", e({}, d)));\n      } else {\n        i = g(\"x\");\n        var a = t.node.childrenIds,\n            l = a.length;\n        d = l ? i ? {\n          beforeItemId: a[0]\n        } : {\n          afterItemId: a[l - 1]\n        } : null;\n        t.changeBlocks(H(r.id, t.node.id, e({}, d)));\n      }\n\n      return {\n        type: \"row\",\n        id: t.node.id\n      };\n    },\n    collect: function collect(e) {\n      var t = e.getItem();\n      return {\n        isOver: e.isOver({\n          shallow: !0\n        }),\n        initialClientOffset: e.getInitialClientOffset(),\n        clientOffset: e.getClientOffset(),\n        dragSourceItemType: t ? t.type : \"\",\n        dragSourceItemId: t ? t.id : \"\",\n        initialSourceClientOffset: e.getInitialSourceClientOffset()\n      };\n    }\n  }),\n      u = a[0],\n      s = u.clientOffset,\n      h = u.dragSourceItemType,\n      f = u.isOver,\n      p = a[1],\n      g = function g(e) {\n    if (!s || !f) return !1;\n    var t = M({\n      clientX: s.x,\n      clientY: s.y\n    }, r.current && r.current.getBoundingClientRect ? r.current.getBoundingClientRect() : null),\n        n = t && (\"y\" === e ? t.top / t.height < .3 : t.left / t.width < .3);\n    return n;\n  },\n      v = function (e) {\n    if (!e || !f) return null;\n\n    if (\"row\" === e) {\n      var t = g(\"y\");\n      return t ? \"top\" : \"bottom\";\n    }\n\n    var r = g(\"x\");\n    return r ? \"firstChild\" : \"lastChild\";\n  }(h);\n\n  return i(\"div\", {\n    ref: r,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, i(\"div\", {\n    ref: p,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, i(\"div\", {\n    ref: d,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, i(U, e({}, t, {\n    wantToPlaceNext: v\n  })))));\n},\n    Y = function (e) {\n  function r() {\n    var t = null !== e && e.apply(this, arguments) || this;\n    return t.selfRef = null, t.getBoundingRect = function () {\n      return t.selfRef && t.selfRef.getBoundingClientRect ? t.selfRef.getBoundingClientRect() : null;\n    }, t;\n  }\n\n  return t(r, e), r.prototype.render = function () {\n    var e = this,\n        t = this.props.node;\n    return i(\"div\", {\n      ref: function ref(t) {\n        return e.selfRef = t;\n      },\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: \"violet\",\n        padding: 5,\n        borderRadius: 3\n      }\n    }, i(\"img\", {\n      style: {\n        width: \"100%\",\n        height: \"100%\"\n      },\n      src: t.value\n    }));\n  }, r;\n}(d),\n    A = function A(t) {\n  var r = l({\n    item: {\n      type: \"image\",\n      id: t.node.id\n    },\n    collect: function collect(e) {\n      return {\n        isDragging: e.isDragging()\n      };\n    }\n  }),\n      n = r[1];\n  return i(\"div\", {\n    ref: n,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, i(Y, e({}, t)));\n},\n    q = function (e) {\n  function r() {\n    var t = null !== e && e.apply(this, arguments) || this;\n    return t.selfRef = null, t.getBoundingRect = function () {\n      return t.selfRef && t.selfRef.getBoundingClientRect ? t.selfRef.getBoundingClientRect() : null;\n    }, t;\n  }\n\n  return t(r, e), r.prototype.render = function () {\n    var e = this,\n        t = this.props,\n        r = t.node,\n        n = t.update,\n        o = r.value;\n    return i(\"div\", {\n      ref: function ref(t) {\n        return e.selfRef = t;\n      },\n      style: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: \"#ffc0cb75\",\n        padding: 5,\n        borderRadius: 3\n      }\n    }, i(\"textarea\", {\n      className: \"form-control\",\n      name: \"value\",\n      placeholder: \"Type here...\",\n      value: o,\n      style: {\n        width: \"95%\",\n        height: \"95%\",\n        outline: \"none\"\n      },\n      onChange: function onChange(e) {\n        return n(r.id, {\n          value: e.target.value\n        });\n      }\n    }));\n  }, r;\n}(d),\n    J = function J(t) {\n  var r = l({\n    item: {\n      type: \"markdown\",\n      id: t.node.id\n    },\n    collect: function collect(e) {\n      return {\n        isDragging: e.isDragging()\n      };\n    }\n  }),\n      n = r[1];\n  return i(\"div\", {\n    ref: n,\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    }\n  }, i(q, e({}, t)));\n},\n    G = function G(e) {\n  var t = e.node,\n      r = e.renderEditBlock,\n      n = e.getNode,\n      o = e.undoRedoVersion,\n      d = e.changeBlocks,\n      a = e.focusedNodeId,\n      l = e.width,\n      c = e.height;\n  return i(\"div\", {\n    onClick: function onClick(e) {\n      e.stopPropagation(), d(function (e) {\n        return W(e, t);\n      });\n    },\n    style: t.id === a ? {\n      borderStyle: \"dashed\",\n      borderWidth: 1,\n      borderColor: \"orange\"\n    } : {}\n  }, i(s, {\n    className: \"box\",\n    width: l,\n    height: c,\n    onResizeStart: function onResizeStart(e) {\n      e.preventDefault(), e.stopPropagation();\n    },\n    onResize: function onResize(e, r) {\n      var n = r.size,\n          o = n.width,\n          i = n.height;\n      d(function (e) {\n        return R(e, t.id, {\n          width: o,\n          height: i\n        });\n      });\n    }\n  }, \"col\" === t.type ? i(z, {\n    key: \"col_\" + t.id,\n    node: t,\n    renderEditBlock: r,\n    getNode: n,\n    changeBlocks: d,\n    focusedNodeId: a,\n    undoRedoVersion: o\n  }) : \"row\" === t.type ? i(X, {\n    key: \"row_\" + t.id,\n    node: t,\n    renderEditBlock: r,\n    getNode: n,\n    changeBlocks: d,\n    focusedNodeId: a,\n    undoRedoVersion: o\n  }) : \"markdown\" === t.type ? i(J, {\n    node: t,\n    update: function update(e, t) {\n      return d(function (r) {\n        return R(r, e, t);\n      });\n    }\n  }) : \"layer\" === t.type ? i(F, {\n    key: \"layer_\" + t.id,\n    node: t,\n    renderEditBlock: r,\n    getNode: n,\n    changeBlocks: d,\n    focusedNodeId: a,\n    undoRedoVersion: o\n  }) : i(A, {\n    key: \"image_\" + t.id,\n    node: t,\n    renderEditBlock: r,\n    getNode: n,\n    changeBlocks: d,\n    focusedNodeId: a,\n    undoRedoVersion: o\n  })));\n},\n    K = function K(e) {\n  var t = e.node,\n      r = e.renderEditBlock,\n      n = e.getNode,\n      o = e.changeBlocks,\n      d = e.undoRedoVersion,\n      a = e.focusedNodeId;\n  return i(G, {\n    width: t.width,\n    height: t.height,\n    renderEditBlock: r,\n    node: t,\n    getNode: n,\n    changeBlocks: o,\n    focusedNodeId: a,\n    undoRedoVersion: d\n  });\n},\n    Q = function (r) {\n  function n() {\n    var e = null !== r && r.apply(this, arguments) || this;\n    return e.haveHtml5DndAPI = function () {\n      var e = !!navigator.userAgent.match(\"iPhone OS\") || !!navigator.userAgent.match(\"iPad\");\n      if (e) return !1;\n      var t = window.document.createElement(\"div\");\n      return \"draggable\" in t || \"ondragstart\" in t && \"ondrop\" in t;\n    }(), e.state = {\n      value: e.props.value\n    }, e.getNode = function (t) {\n      return e.state.value.byId[t];\n    }, e.onSendOp = function (t) {\n      var r = t(e.state.value);\n      e.setState({\n        value: r\n      });\n    }, e;\n  }\n\n  return t(n, r), n.prototype.componentDidMount = function () {\n    if (this.props.onChange) {\n      var e = this.state.value;\n      this.props.onChange(e);\n    }\n  }, n.prototype.componentDidUpdate = function (t, r) {\n    if (this.props.onChange && this.state.value !== r.value && this.state.value !== this.props.value) {\n      var n = this.state.value;\n      this.props.onChange(n);\n    } else this.props.value && t.value !== this.props.value && this.props.value !== this.state.value && this.setState({\n      value: this.props.value\n    });\n\n    this.state.value.byId !== r.value.byId && this.state.value.undoStack === r.value.undoStack && this.setState({\n      value: e({}, this.state.value, {\n        undoStack: [h(r.value.byId)].concat(this.state.value.undoStack).slice(0, 10)\n      })\n    });\n  }, n.prototype.render = function () {\n    var e = this.props.renderEditBlock,\n        t = this.state.value,\n        r = t.byId,\n        n = t.rootNodeId,\n        o = t.undoRedoVersion,\n        d = r[n],\n        a = this.haveHtml5DndAPI ? f : p;\n    return i(\"div\", {\n      style: {\n        position: \"relative\",\n        width: d.width,\n        height: d.height\n      }\n    }, i(u, {\n      backend: a\n    }, i(z, {\n      key: \"col_\" + d.id,\n      undoRedoVersion: o,\n      node: d,\n      getNode: this.getNode,\n      changeBlocks: this.onSendOp,\n      focusedNodeId: this.state.value.focusedNodeId,\n      renderEditBlock: e\n    })));\n  }, n.defaultProps = {\n    renderEditBlock: K,\n    onChange: function onChange(e) {}\n  }, n;\n}(d);\n\nfunction Z(e) {\n  return !!e.borderWidth && e.borderWidth > 0 || !!e.borderTopWidth && e.borderTopWidth > 0 || !!e.borderBottomWidth && e.borderBottomWidth > 0 || !!e.borderLeftWidth && e.borderLeftWidth > 0 || !!e.borderRightWidth && e.borderRightWidth > 0;\n}\n\nvar $ = function $(e) {\n  return {\n    color: e.color || void 0,\n    display: e.display || void 0,\n    flexDirection: e.flexDirection || void 0,\n    justifyContent: e.justifyContent || void 0,\n    alignItems: e.alignItems || void 0,\n    backgroundColor: e.backgroundColor || void 0,\n    borderWidth: void 0 !== e.borderWidth ? e.borderWidth : 0,\n    borderTopWidth: void 0 !== e.borderTopWidth ? e.borderTopWidth : void 0,\n    borderBottomWidth: void 0 !== e.borderBottomWidth ? e.borderBottomWidth : void 0,\n    borderLeftWidth: void 0 !== e.borderLeftWidth ? e.borderLeftWidth : void 0,\n    borderRightWidth: void 0 !== e.borderRightWidth ? e.borderRightWidth : void 0,\n    borderStyle: e.borderStyle ? e.borderStyle || void 0 : Z(e) ? \"solid\" : void 0\n  };\n},\n    ee = function ee(t) {\n  var r = t.byId,\n      n = t.node,\n      o = t.renderPreviewBlock,\n      d = void 0 === o ? te : o;\n  if (!n) return null;\n\n  switch (n.type) {\n    case \"markdown\":\n      return i(\"div\", {\n        key: n.id,\n        style: e({}, $(n), {\n          height: n.height,\n          width: n.width\n        })\n      }, i(g, {\n        source: n.value\n      }));\n\n    case \"layer\":\n      return i(\"div\", {\n        key: n.id,\n        style: e({\n          position: \"relative\"\n        }, $(n), {\n          height: n.height,\n          width: n.width\n        })\n      }, n.childrenIds.map(function (e) {\n        var t = r[e];\n        return t ? i(\"div\", {\n          key: t.id,\n          style: {\n            position: \"absolute\",\n            top: t.top || 0,\n            left: t.left || 0\n          }\n        }, d({\n          byId: r,\n          node: t,\n          renderPreviewBlock: d\n        })) : i(\"div\", null, \"Error in layer \", n.id, \": child node \", e, \" not found\");\n      }));\n\n    case \"image\":\n      return i(\"div\", {\n        key: n.id,\n        style: {\n          height: \"100%\",\n          width: \"100%\"\n        }\n      }, i(\"img\", {\n        src: n.value\n      }));\n\n    case \"col\":\n      return i(\"div\", {\n        key: n.id,\n        style: e({}, $(n), {\n          width: n.width,\n          height: n.height,\n          display: \"flex\",\n          flexDirection: \"column\"\n        })\n      }, n.childrenIds.map(function (e) {\n        var t = r[e];\n        return t ? d({\n          byId: r,\n          node: t,\n          renderPreviewBlock: d\n        }) : i(\"div\", null, \"Error in col \", n.id, \": child node \", e, \" not found\");\n      }));\n\n    case \"row\":\n      return i(\"div\", {\n        key: n.id,\n        style: e({}, $(n), {\n          width: n.width,\n          height: n.height,\n          display: \"flex\",\n          flexDirection: \"row\"\n        })\n      }, n.childrenIds.map(function (e) {\n        var t = r[e];\n        return t ? d({\n          byId: r,\n          node: t,\n          renderPreviewBlock: d\n        }) : i(\"div\", null, \"Error in row \", n.id, \": child node \", e, \" not found\");\n      }));\n\n    case \"custom\":\n      return null;\n  }\n},\n    te = function te(e) {\n  var t = e.byId,\n      r = e.node,\n      n = e.renderPreviewBlock;\n  return i(ee, {\n    key: \"node_\" + r.id,\n    node: r,\n    byId: t,\n    renderPreviewBlock: n\n  });\n},\n    re = function re(e) {\n  var t = e.byId,\n      r = e.node,\n      n = e.onSelect,\n      o = e.navClassName,\n      d = void 0 === o ? \"breadcrumb\" : o,\n      a = e.itemClassName,\n      l = void 0 === a ? \"breadcrumb-item btn btn-link active\" : a;\n  if (!r) return null;\n\n  for (var c = [], u = r.id; u;) {\n    var s = t[u];\n    if (!s) break;\n    c.unshift({\n      label: s.type + \"-\" + s.id,\n      id: s.id\n    }), u = s.parentId || \"\";\n  }\n\n  return i(\"nav\", {\n    \"aria-label\": \"breadcrumb\"\n  }, i(\"ol\", {\n    className: d\n  }, c.map(function (e) {\n    return i(\"li\", {\n      onClick: function onClick() {\n        return n(e.id);\n      },\n      key: \"crumb_\" + e.id,\n      className: l,\n      \"aria-current\": \"page\"\n    }, e.label);\n  })));\n},\n    ne = .95;\n\nfunction oe(t, r) {\n  var n = t.byId,\n      o = t.rootNodeId,\n      i = t.focusedNodeId,\n      d = (r ? r.parentId : i) || o,\n      a = n[d],\n      l = [\"col\", \"layer\"];\n  if ((!a || l.indexOf(a.type) < 0) && (d = a && a.parentId || \"\", a = d ? n[d] : a, !a || l.indexOf(a.type) < 0)) return {\n    error: \"Can only add a row inside \" + l.join(\", \") + \", please select a column by clicking on it\",\n    value: t\n  };\n  var c = x(n, \"row\"),\n      u = e({\n    type: \"row\",\n    height: 100,\n    width: a && a.width ? a.width * ne : 500,\n    paddingLeftPercentWidth: (1 - ne) / 2,\n    paddingTopPercentHeight: (1 - ne) / 2\n  }, r, {\n    id: c,\n    name: c,\n    childrenIds: []\n  });\n  n = b(n, u, a.id), a = n[d];\n  var s = {};\n  if (a && \"col\" === a.type && a && a.childrenIds.length >= 1) for (var h = Math.max(20, a.height / a.childrenIds.length * ne), f = 0, p = a.childrenIds; f < p.length; f++) {\n    var g = p[f];\n    s[g] = e({}, n[g], {\n      height: h\n    });\n  }\n  return {\n    createdBlock: u,\n    value: e({}, t, {\n      byId: e({}, n, s),\n      focusedNodeId: i || u.id\n    })\n  };\n}\n\nfunction ie(t, r) {\n  var n = t.byId,\n      o = t.rootNodeId,\n      i = t.focusedNodeId,\n      d = (r ? r.parentId : i) || o,\n      a = n[d],\n      l = [\"row\", \"layer\"];\n  if ((!a || l.indexOf(a.type) < 0) && (d = a && a.parentId || \"\", a = d ? n[d] : a, !a || l.indexOf(a.type) < 0)) return {\n    error: \"Can only add a column inside \" + l.join(\", \") + \", please select a column by clicking on it\",\n    value: t\n  };\n  var c = x(n, \"col\"),\n      u = e({\n    type: \"col\",\n    width: 100,\n    height: a.height ? a.height * ne : 100,\n    paddingLeftPercentWidth: (1 - ne) / 2,\n    paddingTopPercentHeight: (1 - ne) / 2\n  }, r, {\n    id: c,\n    name: c,\n    childrenIds: []\n  });\n  n = b(n, u, d), a = n[d];\n  var s = {};\n  if (a && \"row\" === a.type && a && a.childrenIds.length >= 1) for (var h = Math.max(20, a.width / a.childrenIds.length * ne), f = 0, p = a.childrenIds; f < p.length; f++) {\n    var g = p[f];\n    s[g] = e({}, n[g], {\n      width: h\n    });\n  }\n  return {\n    createdBlock: u,\n    value: e({}, t, {\n      byId: e({}, n, s),\n      focusedNodeId: i || u.id\n    })\n  };\n}\n\nfunction de(t, r) {\n  var n = t.byId,\n      o = t.rootNodeId,\n      i = t.focusedNodeId,\n      d = (r ? r.parentId : i) || o,\n      a = n[d],\n      l = [\"row\", \"col\", \"layer\"];\n  if (!a || l.indexOf(a.type) < 0) return {\n    error: \"Can only add markdown text inside \" + l.join(\", \"),\n    value: t\n  };\n  var c = x(n, \"markdown\"),\n      u = e({\n    type: \"markdown\",\n    width: Math.max(1, a.width - 20),\n    height: Math.max(1, a.height - 20)\n  }, r, {\n    id: c,\n    name: c,\n    childrenIds: []\n  });\n  return {\n    createdBlock: u,\n    value: e({}, t, {\n      byId: b(n, u, d),\n      focusedNodeId: u.id\n    })\n  };\n}\n\nfunction ae(t, r) {\n  var n = r && r.value ? r.value : window.prompt(\"Please enter image url\", \"https://lorempixel.com/200/200/\");\n  if (null === n) return {\n    error: \"no image selected\",\n    value: t\n  };\n  var o = t.byId,\n      i = t.rootNodeId,\n      d = t.focusedNodeId,\n      a = (r ? r.parentId : d) || i,\n      l = o[a],\n      c = [\"row\", \"col\", \"layer\"];\n  if (!l || c.indexOf(l.type) < 0) return {\n    error: \"Can only add an image inside \" + c.join(\", \"),\n    value: t\n  };\n  var u = x(o, \"image\"),\n      s = e({\n    type: \"image\",\n    value: n,\n    width: 200,\n    height: 200\n  }, r, {\n    id: u,\n    name: u,\n    childrenIds: []\n  });\n  return {\n    createdBlock: s,\n    value: e({}, t, {\n      byId: b(o, s, a),\n      focusedNodeId: s.id\n    })\n  };\n}\n\nfunction le(t, r) {\n  var n = t.byId,\n      o = t.rootNodeId,\n      i = t.focusedNodeId,\n      d = (r ? r.parentId : i) || o,\n      a = n[d],\n      l = [\"row\", \"col\", \"layer\"];\n  if (!a || l.indexOf(a.type) < 0) return {\n    error: \"Can only add a layer inside \" + l.join(\", \"),\n    value: t\n  };\n  var c = x(n, \"layer\"),\n      u = e({\n    type: \"layer\",\n    width: Math.max(1, a.width * ne),\n    height: Math.max(1, a.height * ne),\n    paddingLeftPercentWidth: (1 - ne) / 2,\n    paddingTopPercentHeight: (1 - ne) / 2\n  }, r, {\n    id: c,\n    name: c,\n    childrenIds: []\n  });\n  return {\n    createdBlock: u,\n    value: e({}, t, {\n      byId: b(n, u, d),\n      focusedNodeId: u.id\n    })\n  };\n}\n\nvar ce = function (r) {\n  function o() {\n    var e = null !== r && r.apply(this, arguments) || this;\n    return e.state = {\n      selectedMenu: null,\n      selectedColor: null\n    }, e.toggleMenu = function (t) {\n      if (e.setState({\n        selectedMenu: e.state.selectedMenu === t ? null : t\n      }), \"color\" === t || \"backgroundColor\" === t) {\n        var r = e.props.value,\n            n = r.byId,\n            o = r.focusedNodeId,\n            i = o ? n[o] : null;\n        e.setState({\n          selectedColor: i && i.color || null\n        });\n      }\n    }, e.renderColorMenuItem = function (t) {\n      var r = e.props.value,\n          o = r.byId,\n          i = r.focusedNodeId;\n\n      if (i) {\n        var d = i ? o[i] : null;\n        return n.createElement(n.Fragment, null, n.createElement(ue, {\n          onClick: function onClick() {\n            return e.toggleMenu(t);\n          },\n          color: d && d[t] || \"\"\n        }), e.state.selectedMenu === t && n.createElement(\"div\", {\n          style: {\n            position: \"absolute\",\n            zIndex: 100,\n            backgroundColor: \"white\"\n          }\n        }, n.createElement(\"button\", {\n          className: e.props.buttonClassName,\n          onClick: function onClick() {\n            var r;\n            e.props.updateBlock(i, (r = {}, r[t] = void 0, r)), e.toggleMenu(t);\n          }\n        }, \"Clear\"), n.createElement(\"button\", {\n          className: e.props.buttonClassName,\n          onClick: function onClick() {\n            var r;\n            e.toggleMenu(t), e.props.updateBlock(i, (r = {}, r[t] = e.state.selectedColor, r));\n          }\n        }, \"Done\"), n.createElement(v, {\n          color: e.state.selectedColor || void 0,\n          onChangeComplete: function onChangeComplete(t) {\n            var r = t.hex;\n            e.setState({\n              selectedColor: r\n            });\n          }\n        })));\n      }\n    }, e;\n  }\n\n  return t(o, r), o.prototype.render = function () {\n    var t = this.props,\n        r = t.buttonClassName,\n        o = t.breadCrumbsProps,\n        i = t.value,\n        d = i.byId,\n        a = i.focusedNodeId,\n        l = this.props,\n        c = a ? d[a] : null,\n        u = l.focusNode,\n        s = r;\n    return n.createElement(\"div\", null, n.createElement(\"div\", null, n.createElement(\"button\", {\n      \"aria-label\": \"add row\",\n      className: s,\n      onClick: function onClick() {\n        return l.addRow();\n      }\n    }, \"+ Row\"), n.createElement(\"button\", {\n      \"aria-label\": \"add column\",\n      className: s,\n      onClick: function onClick() {\n        return l.addCol();\n      }\n    }, \"+ Col\"), n.createElement(\"button\", {\n      \"aria-label\": \"add layer\",\n      className: s,\n      onClick: function onClick() {\n        return l.addLayer();\n      }\n    }, \"+ Layer\"), n.createElement(\"button\", {\n      \"aria-label\": \"add markdown\",\n      className: s,\n      onClick: function onClick() {\n        return l.addMarkDown();\n      }\n    }, \"+ Text\"), n.createElement(\"button\", {\n      \"aria-label\": \"add image\",\n      className: s,\n      onClick: function onClick() {\n        return l.addImage();\n      }\n    }, \"+ Image\"), n.createElement(\"button\", {\n      \"aria-label\": \"add image\",\n      className: s,\n      onClick: function onClick() {\n        l.onChange(function (e, t) {\n          if (!t) return alert(\"Please select node to add table to\"), e;\n          var r = window.prompt(\"Enter number or rows (max 10)\", \"5\");\n          if (null === r) return e;\n          var n = window.prompt(\"Enter number or columns (max 10)\", \"5\");\n          if (null === n) return e;\n          var o = window.prompt(\"Enter table width (max 400)\", \"300\");\n          if (null === o) return e;\n          var i = window.prompt(\"Enter table height (max 400)\", \"300\");\n          if (null === i) return e;\n          var d = Math.min(parseInt(o, 10), 400),\n              a = Math.min(parseInt(i, 10), 400),\n              l = ie(e, {\n            width: d,\n            height: a,\n            parentId: t\n          }),\n              c = l.value,\n              u = l.createdBlock;\n          if (!u) return e;\n          e = c;\n\n          for (var s = u.id, h = Math.max(1, Math.min(parseInt(r, 10), 10)), f = Math.max(1, Math.min(parseInt(n, 10), 10)), p = 0; p < h; ++p) {\n            var g = oe(e, {\n              height: a / h,\n              parentId: s\n            }),\n                v = g.value,\n                m = g.createdBlock;\n            if (!m) break;\n            e = v;\n\n            for (var I = 0; I < f; ++I) {\n              var y = ie(e, {\n                parentId: m.id,\n                height: m.height,\n                width: m.width / f\n              }),\n                  b = y.value,\n                  w = y.createdBlock;\n              if (!w) break;\n              e = b;\n            }\n          }\n\n          return e;\n        }(l.value, l.value.focusedNodeId));\n      }\n    }, \"+ Table\"), n.createElement(\"button\", {\n      \"aria-label\": \"undo\",\n      className: s,\n      onClick: l.undo\n    }, \"Undo\"), n.createElement(\"button\", {\n      \"aria-label\": \"redo\",\n      className: s,\n      onClick: l.redo\n    }, \"Redo\")), c && n.createElement(\"div\", {\n      style: {\n        paddingLeft: 15\n      }\n    }, this.renderColorMenuItem(\"color\"), this.renderColorMenuItem(\"backgroundColor\"), n.createElement(\"button\", {\n      className: s,\n      onClick: function onClick() {\n        return l.moveInDirection(c.id, \"left\");\n      }\n    }, \"\"), n.createElement(\"button\", {\n      className: s,\n      onClick: function onClick() {\n        return l.moveInDirection(c.id, \"right\");\n      }\n    }, \"\"), n.createElement(\"button\", {\n      className: s,\n      onClick: function onClick() {\n        return l.moveInDirection(c.id, \"up\");\n      }\n    }, \"\"), n.createElement(\"button\", {\n      className: s,\n      onClick: function onClick() {\n        return l.moveInDirection(c.id, \"down\");\n      }\n    }, \"\"), n.createElement(\"button\", {\n      className: s,\n      onClick: function onClick() {\n        return l.onChange(function (e, t) {\n          if (!t) return e;\n          var r = e.byId,\n              n = r[t];\n          if (!n) return e;\n          var o = n.parentId,\n              i = o ? r[o] : void 0;\n          return i && o ? O(e, t, o, {\n            afterItemId: i.childrenIds[i.childrenIds.length - 1]\n          }) : e;\n        }(l.value, l.value.focusedNodeId));\n      }\n    }, \"FlipToFront\"), n.createElement(\"button\", {\n      \"aria-label\": \"copy\",\n      className: s,\n      onClick: function onClick() {\n        return l.copyFocused();\n      }\n    }, \"Copy\"), n.createElement(\"button\", {\n      \"aria-label\": \"paste\",\n      className: s,\n      onClick: function onClick() {\n        return l.paste();\n      }\n    }, \"Paste\"), n.createElement(\"button\", {\n      \"aria-label\": \"delete\",\n      onClick: l.removeFocused\n    }, \"\"), n.createElement(\"div\", null, n.createElement(re, e({\n      onSelect: function onSelect(e) {\n        return u(e, !0);\n      },\n      byId: d,\n      node: c\n    }, o))), n.createElement(\"div\", {\n      style: {\n        paddingBottom: 20\n      }\n    }, [{\n      prop: \"width\",\n      numeric: !0\n    }, {\n      prop: \"height\",\n      numeric: !0\n    }, {\n      prop: \"top\",\n      numeric: !0\n    }, {\n      prop: \"left\",\n      numeric: !0\n    }, {\n      prop: \"borderWidth\",\n      numeric: !0\n    }, {\n      prop: \"borderTopWidth\",\n      numeric: !0\n    }, {\n      prop: \"borderBottomWidth\",\n      numeric: !0\n    }, {\n      prop: \"borderLeftWidth\",\n      numeric: !0\n    }, {\n      prop: \"borderRightWidth\",\n      numeric: !0\n    }, {\n      prop: \"borderStyle\",\n      numeric: !1\n    }].map(function (e) {\n      return n.createElement(\"div\", {\n        key: e.prop,\n        style: {\n          display: \"inline-block\",\n          marginRight: 10\n        },\n        className: \"form-group\"\n      }, n.createElement(\"label\", {\n        style: {\n          marginRight: 5\n        },\n        htmlFor: e.prop,\n        className: \"form-label\"\n      }, e.prop), n.createElement(\"input\", {\n        name: e.prop,\n        className: \"form-control\",\n        key: \"prop_\" + e.prop,\n        value: void 0 === c[e.prop] ? \"\" : c[e.prop],\n        onChange: (t = c.id, r = e.prop, o = e.numeric, function (e) {\n          var n;\n          l.updateBlock(t, (n = {}, n[r] = o ? e.target.value ? parseInt(e.target.value, 10) : void 0 : e.target.value, n));\n        }),\n        type: e.numeric ? \"numeric\" : void 0\n      }));\n      var t, r, o;\n    }))));\n  }, o;\n}(n.Component),\n    ue = function ue(e) {\n  return n.createElement(\"button\", {\n    style: {\n      borderWidth: 1,\n      fontSize: 11,\n      borderStyle: \"solid\",\n      justifyContent: \"flex-start\"\n    },\n    onClick: e.onClick\n  }, n.createElement(\"div\", {\n    style: {\n      display: \"flex\"\n    }\n  }, n.createElement(\"div\", {\n    style: {\n      borderWidth: 1,\n      borderRadius: 3,\n      borderStyle: \"solid\",\n      width: 20,\n      height: 20,\n      backgroundColor: e.color || void 0\n    }\n  }), \"\", e.color ? \"\" : \"none\"));\n};\n\nvar se = function (r) {\n  function n() {\n    var t = null !== r && r.apply(this, arguments) || this;\n    return t.addRow = function (e) {\n      var r = oe(t.props.value, e),\n          n = r.error,\n          o = r.value;\n      n ? alert(n) : t.props.onChange(o);\n    }, t.addCol = function (e) {\n      var r = ie(t.props.value, e),\n          n = r.error,\n          o = r.value;\n      n ? alert(n) : t.props.onChange(o);\n    }, t.addMarkDown = function (e) {\n      var r = de(t.props.value, e),\n          n = r.error,\n          o = r.value;\n      n ? alert(n) : t.props.onChange(o);\n    }, t.addImage = function (e) {\n      var r = ae(t.props.value, e),\n          n = r.error,\n          o = r.value;\n      n ? alert(n) : t.props.onChange(o);\n    }, t.addLayer = function (e) {\n      var r = le(t.props.value, e),\n          n = r.error,\n          o = r.value;\n      n ? alert(n) : t.props.onChange(o);\n    }, t.removeFocused = function () {\n      var e = t.props.value.focusedNodeId;\n      e && t.destroy(e);\n    }, t.focusNode = function (e, r) {\n      void 0 === r && (r = !0);\n      var n = t.props.value;\n      t.props.onChange(W(n, e, r));\n    }, t.create = function (e) {\n      t.props.onChange(E(t.props.value, e));\n    }, t.updateBlock = function (e, r) {\n      t.props.onChange(R(t.props.value, e, r));\n    }, t.destroy = function (e) {\n      t.props.onChange(P(t.props.value, e));\n    }, t.move = function (e, r, n) {\n      void 0 === n && (n = {}), t.props.onChange(O(t.props.value, e, r, n));\n    }, t.moveInDirection = function (e, r) {\n      t.props.onChange(S(t.props.value, e, {\n        direction: r\n      }));\n    }, t.copyFocused = function () {\n      var r = t.props.value,\n          n = r.byId,\n          o = r.focusedNodeId;\n\n      if (o) {\n        var i = n[o];\n        i && t.props.onChange(e({}, t.props.value, {\n          copiedNode: C(n, i)\n        }));\n      }\n    }, t.paste = function () {\n      t.props.onChange(N(t.props.value));\n    }, t.undo = function () {\n      var r = t.props.value,\n          n = r.byId,\n          o = r.undoStack,\n          i = r.redoStack;\n\n      if (o.length > 0) {\n        var d = o[0],\n            a = [n].concat(i),\n            l = o.slice(1),\n            c = t.props.value.undoRedoVersion;\n        t.props.onChange(e({}, t.props.value, {\n          undoRedoVersion: c + 1,\n          byId: d,\n          undoStack: l,\n          redoStack: a\n        }));\n      }\n    }, t.redo = function () {\n      var r = t.props.value,\n          n = r.byId,\n          o = r.undoStack,\n          i = r.redoStack;\n\n      if (i.length > 0) {\n        var d = i[0],\n            a = [n].concat(o),\n            l = i.slice(1),\n            c = t.props.value.undoRedoVersion;\n        t.props.onChange(e({}, t.props.value, {\n          undoRedoVersion: c + 1,\n          byId: d,\n          undoStack: a,\n          redoStack: l\n        }));\n      }\n    }, t;\n  }\n\n  return t(n, r), n.prototype.render = function () {\n    var t = this,\n        r = this.props,\n        n = r.UiComponent,\n        o = r.onChange,\n        d = r.value,\n        a = r.controlUiProps;\n    return i(n, e({\n      value: d,\n      onChange: o,\n      addRow: this.addRow,\n      addCol: this.addCol,\n      addImage: this.addImage,\n      addLayer: this.addLayer,\n      addMarkDown: this.addMarkDown,\n      moveInDirection: this.moveInDirection,\n      copyFocused: this.copyFocused,\n      paste: this.paste,\n      focusNode: function focusNode(e, r) {\n        var n = d.byId[e];\n        n && t.focusNode(n, r);\n      },\n      removeFocused: this.removeFocused,\n      updateBlock: this.updateBlock,\n      undo: this.undo,\n      redo: this.redo\n    }, a));\n  }, n.defaultProps = {\n    UiComponent: ce\n  }, n;\n}(d);\n\nexport { F as AbsoluteLayerBlock, re as BlockBreadCrumbs, Q as BlockEditor, se as BlockEditorControl, ce as BlockEditorControlDefaultUI, z as DraggableColBlock, X as DraggableRowBlock, A as ImageBlock, J as MarkdownBlock, ee as Preview, G as ResizableBlock, ie as addCol, ae as addImage, le as addLayer, de as addMarkDown, oe as addRow, E as create, C as deepCopy, K as defaultRenderEditBlock, te as defaultRenderPreviewBlock, P as destroy, W as focusNode, T as getDragPositionRelativeToTarget, M as getDragPositionRelativeToTarget2, y as hasDescendent, O as move, S as moveInDirection, x as newBlockId, L as onDragStart, V as onDropped, H as onDropped2, D as parseTypes, N as paste, B as pasteChild, b as placeNodeInParent, w as reinsertIntoList, I as removeNode, R as update, m as updateNode };","import React, { useState } from 'react';\r\n\r\nimport {\r\n  BlockBreadCrumbs,\r\n  BlockEditorControlUIProps,\r\n  newBlockId,\r\n  placeNodeInParent,\r\n  addCol,\r\n  addRow,\r\n  move,\r\n  BlockEditorValue,\r\n  BlockNode,\r\n} from 'react-movable-block-editor';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ArrowLeftIcon from '@material-ui/icons/ArrowBack';\r\nimport FlipToFront from '@material-ui/icons/FlipToFront';\r\nimport ArrowRightIcon from '@material-ui/icons/ArrowForward';\r\nimport ArrowUpIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownIcon from '@material-ui/icons/ArrowDownward';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport TransparentPng from './transparent.png';\r\n\r\nimport { SketchPicker } from 'react-color';\r\n\r\ntype BlockProp =\r\n  | 'width'\r\n  | 'height'\r\n  | 'top'\r\n  | 'left'\r\n  | 'borderWidth'\r\n  | 'borderBottomWidth'\r\n  | 'borderStyle';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  fab: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 60,\r\n  },\r\n  input: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nexport type MenuType = 'color' | 'backgroundColor';\r\n\r\nexport interface BlockEditorControlDefaultUIState {\r\n  selectedMenu: MenuType | null;\r\n}\r\n\r\n// Create our own menu bar\r\nexport const CustomEditorToolBar: React.SFC<BlockEditorControlUIProps> = (\r\n  props: BlockEditorControlUIProps\r\n) => {\r\n  const {\r\n    breadCrumbsProps,\r\n    value: { byId, focusedNodeId },\r\n  } = props;\r\n\r\n  const selectedNode = focusedNodeId ? byId[focusedNodeId] : null;\r\n\r\n  const [selectedMenu, setSelectedMenu] = useState<MenuType | null>(null);\r\n  const [selectedColor, setSelectedColor] = useState<string | undefined>(\r\n    selectedNode ? selectedNode.color || undefined : undefined\r\n  );\r\n  const classes = useStyles();\r\n\r\n  const toggleMenu = (menu: MenuType) => {\r\n    setSelectedMenu(selectedMenu === menu ? null : menu);\r\n  };\r\n\r\n  const renderColorMenuItem = (which: 'color' | 'backgroundColor') => {\r\n    if (!focusedNodeId || !selectedNode) return null;\r\n    return (\r\n      <React.Fragment>\r\n        <ColorButton\r\n          onClick={() => toggleMenu(which)}\r\n          color={selectedNode[which] || ''}\r\n        />\r\n        {selectedMenu === which && (\r\n          <div\r\n            style={{\r\n              position: 'absolute',\r\n              zIndex: 100,\r\n              backgroundColor: 'white',\r\n            }}\r\n          >\r\n            <Button\r\n              size=\"small\"\r\n              color=\"secondary\"\r\n              onClick={() => {\r\n                props.updateBlock(focusedNodeId, { [which]: undefined });\r\n                toggleMenu(which);\r\n              }}\r\n            >\r\n              Clear\r\n            </Button>\r\n            <Button\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              onClick={() => {\r\n                toggleMenu(which);\r\n                props.updateBlock(focusedNodeId, { [which]: selectedColor });\r\n              }}\r\n            >\r\n              Done\r\n            </Button>\r\n            <SketchPicker\r\n              color={selectedColor}\r\n              onChangeComplete={({ hex }) => {\r\n                setSelectedColor(hex);\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  const focusedNode = focusedNodeId ? byId[focusedNodeId] : null;\r\n\r\n  const { focusNode } = props;\r\n\r\n  const btnCls = classes.button;\r\n\r\n  const handleBlockChange = (\r\n    nodeId: string,\r\n    prop: BlockProp,\r\n    numeric: boolean\r\n  ) => (event: { target: { value: string } }) => {\r\n    props.updateBlock(nodeId, {\r\n      [prop]: numeric\r\n        ? event.target.value\r\n          ? parseInt(event.target.value, 10)\r\n          : undefined\r\n        : event.target.value,\r\n    });\r\n  };\r\n\r\n  const blockProps = [\r\n    { prop: 'width', numeric: true },\r\n    { prop: 'height', numeric: true },\r\n    { prop: 'top', numeric: true },\r\n    { prop: 'left', numeric: true },\r\n    { prop: 'borderWidth', numeric: true },\r\n    { prop: 'borderTopWidth', label: 'bTopW', numeric: true },\r\n    { prop: 'borderBottomWidth', label: 'bBottomW', numeric: true },\r\n    { prop: 'borderLeftWidth', label: 'bLeftW', numeric: true },\r\n    { prop: 'borderRightWidth', label: 'bRightW', numeric: true },\r\n    { prop: 'borderStyle', numeric: false },\r\n  ] as Array<{ prop: BlockProp; label?: string; numeric: boolean }>;\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Tooltip\r\n          title=\"Add Row (position children horizontally)\"\r\n          aria-label=\"Add\"\r\n        >\r\n          <Button\r\n            aria-label=\"add row\"\r\n            className={btnCls}\r\n            onClick={() => props.addRow()}\r\n          >\r\n            + Row\r\n          </Button>\r\n        </Tooltip>\r\n        <Tooltip\r\n          title=\"Add Col (position children vertically)\"\r\n          aria-label=\"Add\"\r\n        >\r\n          <Button\r\n            aria-label=\"add column\"\r\n            className={btnCls}\r\n            onClick={() => props.addCol()}\r\n          >\r\n            + Col\r\n          </Button>\r\n        </Tooltip>\r\n\r\n        <Tooltip\r\n          title=\"Add Layer (position children absolutely)\"\r\n          aria-label=\"Add\"\r\n        >\r\n          <Button\r\n            aria-label=\"add layer\"\r\n            className={btnCls}\r\n            onClick={() => props.addLayer()}\r\n          >\r\n            + Layer\r\n          </Button>\r\n        </Tooltip>\r\n        <Tooltip title=\"Add Text (markdown)\" aria-label=\"Add\">\r\n          <Button\r\n            aria-label=\"add markdown\"\r\n            className={btnCls}\r\n            onClick={() => props.addMarkDown()}\r\n          >\r\n            + Text\r\n          </Button>\r\n        </Tooltip>\r\n        <Button\r\n          aria-label=\"add image\"\r\n          className={btnCls}\r\n          onClick={() => props.addImage()}\r\n        >\r\n          + Image\r\n        </Button>\r\n        <Button\r\n          aria-label=\"add image\"\r\n          className={btnCls}\r\n          onClick={() => {\r\n            props.onChange(addTable(props.value, props.value.focusedNodeId));\r\n          }}\r\n        >\r\n          + Table\r\n        </Button>\r\n        <Button\r\n          aria-label=\"add image\"\r\n          className={btnCls}\r\n          onClick={() => {\r\n            props.onChange(addInput(props.value, props.value.focusedNodeId));\r\n          }}\r\n        >\r\n          + Input\r\n        </Button>\r\n        <Button aria-label=\"undo\" className={btnCls} onClick={props.undo}>\r\n          Undo\r\n        </Button>\r\n        <Button aria-label=\"redo\" className={btnCls} onClick={props.redo}>\r\n          Redo\r\n        </Button>\r\n      </div>\r\n\r\n      {focusedNode && (\r\n        <div style={{ paddingLeft: 15 }}>\r\n          {renderColorMenuItem('color')}\r\n          {renderColorMenuItem('backgroundColor')}\r\n          <Button\r\n            className={btnCls}\r\n            onClick={() => props.moveInDirection(focusedNode.id, 'left')}\r\n          >\r\n            <ArrowLeftIcon />\r\n          </Button>\r\n          <Button\r\n            className={btnCls}\r\n            onClick={() => props.moveInDirection(focusedNode.id, 'right')}\r\n          >\r\n            <ArrowRightIcon />\r\n          </Button>\r\n          <Button\r\n            className={btnCls}\r\n            onClick={() => props.moveInDirection(focusedNode.id, 'up')}\r\n          >\r\n            <ArrowUpIcon />\r\n          </Button>\r\n          <Button\r\n            className={btnCls}\r\n            onClick={() => props.moveInDirection(focusedNode.id, 'down')}\r\n          >\r\n            <ArrowDownIcon />\r\n          </Button>\r\n\r\n          <Tooltip title=\"Flip to front\" aria-label=\"Add\">\r\n            <Button\r\n              className={btnCls}\r\n              onClick={() =>\r\n                props.onChange(\r\n                  flipToFront(props.value, props.value.focusedNodeId)\r\n                )\r\n              }\r\n            >\r\n              <FlipToFront />\r\n            </Button>\r\n          </Tooltip>\r\n\r\n          <Button\r\n            aria-label=\"copy\"\r\n            className={btnCls}\r\n            onClick={() => props.copyFocused()}\r\n          >\r\n            Copy\r\n          </Button>\r\n          <Button\r\n            aria-label=\"paste\"\r\n            className={btnCls}\r\n            onClick={() => props.paste()}\r\n          >\r\n            Paste\r\n          </Button>\r\n\r\n          <Button\r\n            aria-label=\"delete\"\r\n            className={classes.fab}\r\n            onClick={props.removeFocused}\r\n          >\r\n            <DeleteIcon />\r\n          </Button>\r\n          <Tooltip\r\n            title=\"Click breadcrumb to change focused block\"\r\n            aria-label=\"Add\"\r\n          >\r\n            <Button>\r\n              <BlockBreadCrumbs\r\n                onSelect={nodeId => focusNode(nodeId, true)}\r\n                byId={byId}\r\n                node={focusedNode}\r\n                {...breadCrumbsProps}\r\n              />\r\n            </Button>\r\n          </Tooltip>\r\n          <div style={{ paddingBottom: 5 }}>\r\n            {blockProps.map(blockProp => (\r\n              <TextField\r\n                key={'prop_' + blockProp.prop}\r\n                label={blockProp.label || blockProp.prop}\r\n                value={\r\n                  focusedNode[blockProp.prop] === undefined\r\n                    ? ''\r\n                    : focusedNode[blockProp.prop]\r\n                }\r\n                onChange={handleBlockChange(\r\n                  focusedNode.id,\r\n                  blockProp.prop,\r\n                  blockProp.numeric\r\n                )}\r\n                type={blockProp.numeric ? 'number' : undefined}\r\n                className={classes.textField}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                margin=\"normal\"\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ColorButton = (props: { color: string; onClick: () => any }) => (\r\n  <div\r\n    onClick={props.onClick}\r\n    style={{\r\n      display: 'inline-block',\r\n      marginTop: 10,\r\n      marginRight: 10,\r\n      borderWidth: 1,\r\n      borderRadius: 3,\r\n      borderStyle: 'solid',\r\n      width: 20,\r\n      height: 20,\r\n      backgroundColor: props.color || undefined,\r\n    }}\r\n  >\r\n    {props.color === undefined && (\r\n      <img\r\n        alt=\"transparent-color\"\r\n        style={{ width: 20, height: 20 }}\r\n        src={TransparentPng}\r\n      />\r\n    )}\r\n  </div>\r\n);\r\n\r\nfunction flipToFront(value: BlockEditorValue, nodeId: string | null) {\r\n  if (!nodeId) return value;\r\n  const { byId } = value;\r\n  const node = byId[nodeId];\r\n  if (!node) return value;\r\n  const parentId = node.parentId;\r\n  const parentNode = parentId ? byId[parentId] : undefined;\r\n  if (!parentNode || !parentId) return value;\r\n  return move(value, nodeId, parentId, {\r\n    afterItemId: parentNode.childrenIds[parentNode.childrenIds.length - 1],\r\n  });\r\n}\r\n\r\nfunction addInput(value: BlockEditorValue, parentId: string | null) {\r\n  const { byId } = value;\r\n  const parentNode = parentId ? byId[parentId] : null;\r\n  if (!parentId || !parentNode) {\r\n    alert('Please select node to add input to');\r\n    return value;\r\n  }\r\n  let newNodeId = newBlockId(byId, 'input');\r\n\r\n  const input: BlockNode = {\r\n    type: 'custom',\r\n    customType: 'input',\r\n    height: 40,\r\n    width: 100,\r\n    id: newNodeId,\r\n    name: newNodeId,\r\n    childrenIds: [],\r\n  };\r\n  return {\r\n    ...value,\r\n    byId: placeNodeInParent(byId, input, parentId),\r\n    focusedNodeId: value.focusedNodeId || input.id,\r\n  };\r\n}\r\n\r\nfunction addTable(value: BlockEditorValue, parentId: string | null) {\r\n  if (!parentId) {\r\n    alert('Please select node to add table to');\r\n    return value;\r\n  }\r\n  let numRowsStr = window.prompt('Enter number or rows (max 10)', '5');\r\n  if (numRowsStr === null) return value;\r\n  let numColsStr = window.prompt('Enter number or columns (max 10)', '5');\r\n  if (numColsStr === null) return value;\r\n  let widthStr = window.prompt('Enter table width (max 400)', '300');\r\n  if (widthStr === null) return value;\r\n  let heightStr = window.prompt('Enter table height (max 400)', '300');\r\n  if (heightStr === null) return value;\r\n\r\n  const width = Math.min(parseInt(widthStr, 10), 400);\r\n  const height = Math.min(parseInt(heightStr, 10), 400);\r\n\r\n  const { value: newValue, createdBlock: table } = addCol(value, {\r\n    width,\r\n    height,\r\n    parentId,\r\n  });\r\n  if (!table) return value;\r\n  value = newValue;\r\n  const tableId = table.id;\r\n\r\n  const numRows = Math.max(1, Math.min(parseInt(numRowsStr, 10), 10));\r\n  const numCols = Math.max(1, Math.min(parseInt(numColsStr, 10), 10));\r\n\r\n  for (let i = 0; i < numRows; ++i) {\r\n    const { value: newValue, createdBlock: row } = addRow(value, {\r\n      height: height / numRows,\r\n      parentId: tableId,\r\n    });\r\n    if (!row) break;\r\n    value = newValue;\r\n    for (let j = 0; j < numCols; ++j) {\r\n      const { value: newValue, createdBlock: col } = addCol(value, {\r\n        parentId: row.id,\r\n        height: row.height,\r\n        width: row.width / numCols,\r\n      });\r\n      if (!col) break;\r\n      value = newValue;\r\n    }\r\n  }\r\n  return value;\r\n}\r\n","import React, { useRef } from 'react';\r\nimport './App.css';\r\n\r\nimport {\r\n  focusNode,\r\n  defaultRenderEditBlock,\r\n  defaultRenderPreviewBlock,\r\n  update,\r\n  BlockProps,\r\n  onDragStart,\r\n  PreviewProps,\r\n  BlockEditorValue,\r\n} from 'react-movable-block-editor';\r\nimport 'react-movable-block-editor/css/drag.css';\r\nimport 'react-resizable/css/styles.css';\r\n\r\n// Optional: code below is for custom blocks\r\n\r\nfunction renderCustomEditBlock(props: BlockProps) {\r\n  switch (props.node.customType) {\r\n    case 'input':\r\n      return (\r\n        <MyEditInputBlock\r\n          undoRedoVersion={props.undoRedoVersion}\r\n          node={props.node}\r\n          renderEditBlock={props.renderEditBlock}\r\n          changeBlocks={props.changeBlocks}\r\n          getNode={props.getNode}\r\n          focusedNodeId={props.focusedNodeId}\r\n        />\r\n      );\r\n    default:\r\n      return <div>Unknown custom type {props.node.customType}</div>;\r\n  }\r\n}\r\n\r\nfunction renderCustomPreviewBlock(props: PreviewProps) {\r\n  switch (props.node.customType) {\r\n    case 'input':\r\n      return (\r\n        <MyPreviewInputBlock\r\n          key={props.node.id}\r\n          node={props.node}\r\n          renderPreviewBlock={props.renderPreviewBlock}\r\n          byId={props.byId}\r\n        />\r\n      );\r\n    default:\r\n      return <div>Unknown custom type {props.node.customType}</div>;\r\n  }\r\n}\r\n\r\nexport function myRenderEditBlock({\r\n  node,\r\n  renderEditBlock,\r\n  getNode,\r\n  undoRedoVersion,\r\n  changeBlocks,\r\n  focusedNodeId,\r\n}: BlockProps) {\r\n  switch (node.type as any) {\r\n    case 'custom':\r\n      return renderCustomEditBlock({\r\n        node,\r\n        undoRedoVersion,\r\n        renderEditBlock,\r\n        getNode,\r\n        changeBlocks,\r\n        focusedNodeId,\r\n      });\r\n    default:\r\n      return defaultRenderEditBlock({\r\n        node,\r\n        undoRedoVersion,\r\n        renderEditBlock,\r\n        getNode,\r\n        changeBlocks,\r\n        focusedNodeId,\r\n      });\r\n  }\r\n}\r\n\r\nexport function myRenderPreviewBlock({\r\n  node,\r\n  byId,\r\n  renderPreviewBlock,\r\n}: PreviewProps) {\r\n  switch (node.type as any) {\r\n    case 'custom':\r\n      return renderCustomPreviewBlock({\r\n        node,\r\n        renderPreviewBlock,\r\n        byId,\r\n      });\r\n    default:\r\n      return defaultRenderPreviewBlock({\r\n        byId,\r\n        renderPreviewBlock,\r\n        node,\r\n      });\r\n  }\r\n}\r\n\r\n// Custom draggable input block\r\nconst MyEditInputBlock = (props: BlockProps) => {\r\n  const selfRef = useRef(null);\r\n\r\n  const getBoundingRect = () => {\r\n    return selfRef &&\r\n      selfRef.current &&\r\n      (selfRef.current as any).getBoundingClientRect\r\n      ? (selfRef.current as any).getBoundingClientRect()\r\n      : null;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={selfRef}\r\n      draggable\r\n      onDragStart={e => onDragStart(e, props.node, getBoundingRect)}\r\n      onClick={e => {\r\n        e.stopPropagation();\r\n        props.changeBlocks((value: BlockEditorValue) =>\r\n          focusNode(value, props.node, true)\r\n        );\r\n      }}\r\n      style={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        backgroundColor: 'lightpink',\r\n        width: props.node.width,\r\n        height: props.node.height,\r\n        ...(props.focusedNodeId === props.node.id\r\n          ? {\r\n              borderStyle: 'dashed',\r\n              borderWidth: 1,\r\n              borderColor: 'orange',\r\n            }\r\n          : {}),\r\n      }}\r\n    >\r\n      <input\r\n        onChange={e => {\r\n          // what you type in the input editor is what the placeholder will be\r\n          props.changeBlocks(value =>\r\n            update(value, props.node.id, { value: e.target.value })\r\n          );\r\n        }}\r\n        placeholder=\"edit placeholder\"\r\n        value={props.node.value || ''}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MyPreviewInputBlock = (props: PreviewProps) => {\r\n  return (\r\n    <input\r\n      style={{ width: props.node.width, height: props.node.height }}\r\n      placeholder={props.node.value}\r\n    />\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useState } from 'react';\r\nimport './App.css';\r\n\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\nimport {\r\n  BlockEditor,\r\n  Preview,\r\n  BlockEditorControl,\r\n  BlockEditorValue,\r\n} from 'react-movable-block-editor';\r\nimport 'react-movable-block-editor/css/drag.css';\r\nimport 'react-resizable/css/styles.css';\r\n\r\nimport { DndProvider, useDrag, useDrop } from 'react-dnd';\r\nimport Backend from 'react-dnd-html5-backend';\r\n\r\n// Optional\r\nimport { CustomEditorToolBar } from './CustomEditorToolBar';\r\nimport { myRenderEditBlock, myRenderPreviewBlock } from './CustomBlocks';\r\n\r\n// optional: customize BreadCrumbs classes\r\nconst useStyles = makeStyles((theme: any) => ({\r\n  paper: {\r\n    backgroundColor: 'white',\r\n    position: 'absolute',\r\n    top: '20%',\r\n    left: '20%',\r\n    width: '60%',\r\n    padding: 20,\r\n  },\r\n  breadcrumbNav: {\r\n    display: 'flex',\r\n    listStyleType: 'none',\r\n    backgroundColor: '#f5f5f5',\r\n    padding: 10,\r\n    flexDirection: 'row',\r\n  },\r\n  breadcrumbItem: {\r\n    cursor: 'pointer',\r\n    '&::before': { content: '\"  /  \"' },\r\n    marginRight: 5,\r\n  },\r\n}));\r\n\r\nfunction Card({ text }: { text: string }) {\r\n  const [{ isDragging, opacity }, dragRef] = useDrag({\r\n    item: { type: 'card', text },\r\n    collect: monitor => ({\r\n      isDragging: monitor.isDragging(),\r\n      opacity: monitor.isDragging() ? 0.5 : 1,\r\n    }),\r\n  });\r\n  console.log('IS DRAGGING CARD', isDragging);\r\n  return (\r\n    <div\r\n      ref={dragRef}\r\n      style={{\r\n        width: 100,\r\n        height: 100,\r\n        borderWidth: 1,\r\n        borderStyle: 'solid',\r\n        borderColor: 'black',\r\n        opacity,\r\n      }}\r\n    >\r\n      {text}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst TargetDiv: React.FC<{\r\n  text: string;\r\n  cardInside: boolean;\r\n  canDrop: () => boolean;\r\n  onDrop: () => any;\r\n}> = ({ text, cardInside, canDrop, onDrop, children }) => {\r\n  const [{ isOver }, drop] = useDrop({\r\n    accept: 'card',\r\n    drop: onDrop,\r\n    canDrop,\r\n    collect: monitor => ({\r\n      isOver: !!monitor.isOver(),\r\n      canDrop: !!monitor.canDrop(),\r\n    }),\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={drop}\r\n      style={{\r\n        width: 200,\r\n        height: 200,\r\n        borderStyle: 'dashed',\r\n        borderWidth: 1,\r\n        backgroundColor: isOver ? 'yellow' : undefined,\r\n      }}\r\n    >\r\n      {cardInside && <Card text={text} />}\r\n      {!cardInside && <div>Empty</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst App: React.FC = () => {\r\n  const classes = useStyles();\r\n\r\n  const [editorState, setEditorState] = useState<BlockEditorValue>({\r\n    copiedNode: null,\r\n    focusedNodeId: null,\r\n    undoRedoVersion: 1,\r\n    undoStack: [],\r\n    redoStack: [],\r\n    byId: {\r\n      container1: {\r\n        id: 'container1',\r\n        type: 'col',\r\n        name: 'container1',\r\n        paddingLeftPercentWidth: 0.025,\r\n        paddingTopPercentHeight: 0.025,\r\n        parentId: undefined, // root\r\n        width: 560,\r\n        height: 360,\r\n        childrenIds: ['layer1'],\r\n      },\r\n      layer1: {\r\n        id: 'layer1',\r\n        type: 'layer',\r\n        name: 'layer1',\r\n        parentId: 'container1',\r\n        width: 510,\r\n        height: 330,\r\n        childrenIds: ['content', 'image1', 'row1'],\r\n      },\r\n      input1: {\r\n        id: 'input1',\r\n        type: 'custom',\r\n        customType: 'input',\r\n        name: 'input1',\r\n        value: 'First Name',\r\n        parentId: 'row1',\r\n        width: 100,\r\n        height: 40,\r\n        childrenIds: [],\r\n      },\r\n      input2: {\r\n        id: 'input2',\r\n        type: 'custom',\r\n        customType: 'input',\r\n        name: 'input2',\r\n        parentId: 'row1',\r\n        value: 'Last Name',\r\n        width: 100,\r\n        height: 40,\r\n        childrenIds: [],\r\n      },\r\n      image1: {\r\n        id: 'image1',\r\n        type: 'image',\r\n        name: 'image1',\r\n        parentId: 'layer1',\r\n        width: 200,\r\n        height: 200,\r\n        top: 0,\r\n        left: 250,\r\n        value: 'https://lorempixel.com/200/200/',\r\n        childrenIds: [],\r\n      },\r\n      content: {\r\n        id: 'content',\r\n        type: 'markdown',\r\n        name: 'content',\r\n        parentId: 'layer1',\r\n        width: 200,\r\n        height: 200,\r\n        top: 0,\r\n        left: 16,\r\n        value: `### Content \r\n> QUOTE\r\n> \r\n> GOES\r\n> \r\n> HERE`,\r\n        childrenIds: [],\r\n      },\r\n      row1: {\r\n        id: 'row1',\r\n        type: 'row',\r\n        name: 'row1',\r\n        parentId: 'layer1',\r\n        width: 210,\r\n        height: 60,\r\n        top: 230,\r\n        left: 250,\r\n        childrenIds: ['input1', 'input2'],\r\n      },\r\n    },\r\n    rootNodeId: 'container1',\r\n  });\r\n\r\n  const [showLoadJsonModal, setShowLoadJsonModal] = useState<boolean>(false);\r\n  const [showViewJsonModal, setShowViewJsonModal] = useState<boolean>(false);\r\n  const [inputJson, setInputJson] = useState<string>('');\r\n\r\n  const [inSquare, setInSquare] = useState<string>('');\r\n\r\n  const onDropCard = (text: string) => {\r\n    setInSquare(text);\r\n  };\r\n  const canDrop = () => true;\r\n\r\n  const loadFromJson = () => {\r\n    try {\r\n      setEditorState(JSON.parse(inputJson));\r\n      setShowLoadJsonModal(false);\r\n    } catch (e) {\r\n      console.error('Error loading from json', e);\r\n      alert('Error loading from json: ' + e);\r\n    }\r\n  };\r\n\r\n  const rootNode = editorState.byId[editorState.rootNodeId];\r\n\r\n  if (!rootNode) {\r\n    return <div>Error: no root node (id={editorState.rootNodeId})</div>;\r\n  }\r\n\r\n  // return (\r\n  //   <div>\r\n  //     <DndProvider backend={Backend}>\r\n  //       <div\r\n  //         style={{\r\n  //           position: 'relative',\r\n  //           width: 300,\r\n  //           height: 300,\r\n  //           border: '1px solid grey',\r\n  //         }}\r\n  //       >\r\n  //         <div\r\n  //           style={{\r\n  //             position: 'absolute',\r\n  //             left: 500,\r\n  //             width: 100,\r\n  //             height: 100,\r\n  //             border: '1px solid',\r\n  //           }}\r\n  //         >\r\n  //           NON-TARGET\r\n  //         </div>\r\n  //         <div style={{ position: 'absolute', top: 0, left: 0 }}>\r\n  //           {inSquare === '' && <Card text=\"outside\" />}\r\n  //         </div>\r\n  //         <div style={{ position: 'absolute', top: 0, left: 100 }}>\r\n  //           <TargetDiv\r\n  //             text=\"square 1\"\r\n  //             canDrop={canDrop}\r\n  //             cardInside={'square 1' === inSquare}\r\n  //             onDrop={() => onDropCard('square 1')}\r\n  //           />\r\n  //         </div>\r\n  //         <div style={{ position: 'absolute', top: 0, left: 300 }}>\r\n  //           <TargetDiv\r\n  //             text=\"square 2\"\r\n  //             canDrop={canDrop}\r\n  //             cardInside={'square 2' === inSquare}\r\n  //             onDrop={() => onDropCard('square 2')}\r\n  //           />\r\n  //         </div>\r\n  //       </div>\r\n  //     </DndProvider>\r\n  //   </div>\r\n  // );\r\n\r\n  return (\r\n    <div>\r\n      <Button onClick={() => setShowLoadJsonModal(true)}>Load from json</Button>\r\n      <Button onClick={() => setShowViewJsonModal(true)}>View json</Button>\r\n      <BlockEditorControl\r\n        value={editorState}\r\n        onChange={v => (console.log('VAL', v) as any) || setEditorState(v)}\r\n        UiComponent={CustomEditorToolBar}\r\n        controlUiProps={{\r\n          breadCrumbsProps: {\r\n            navClassName: classes.breadcrumbNav,\r\n            itemClassName: classes.breadcrumbItem,\r\n          },\r\n        }}\r\n      />\r\n\r\n      <Grid container spacing={3}>\r\n        <Grid item md={6}>\r\n          <div style={{ marginLeft: 10 }}>\r\n            <BlockEditor\r\n              renderEditBlock={myRenderEditBlock}\r\n              value={editorState}\r\n              onChange={setEditorState}\r\n            />\r\n          </div>\r\n        </Grid>\r\n        <Grid item md={6}>\r\n          <div\r\n            style={{ marginRight: 10, borderWidth: 1, borderStyle: 'dashed' }}\r\n          >\r\n            <Preview\r\n              byId={editorState.byId}\r\n              renderPreviewBlock={myRenderPreviewBlock}\r\n              node={rootNode}\r\n            />\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n      <Modal\r\n        aria-labelledby=\"view-json\"\r\n        aria-describedby=\"view-json\"\r\n        open={showViewJsonModal}\r\n        onClose={() => setShowViewJsonModal(false)}\r\n      >\r\n        <div className={classes.paper}>\r\n          <Button onClick={() => setShowViewJsonModal(false)}>Done</Button>\r\n          <div>json:</div>\r\n          <div>{JSON.stringify(editorState)}</div>\r\n        </div>\r\n      </Modal>\r\n      <Modal\r\n        aria-labelledby=\"load-from-json\"\r\n        aria-describedby=\"load-from-json\"\r\n        open={showLoadJsonModal}\r\n        onClose={loadFromJson}\r\n      >\r\n        <div className={classes.paper}>\r\n          <Button onClick={loadFromJson}>Load</Button>\r\n          <Button onClick={() => setShowLoadJsonModal(false)}>Cancel</Button>\r\n          <div>json:</div>\r\n          <br />\r\n          <textarea\r\n            style={{ height: 200, width: '100%' }}\r\n            value={inputJson}\r\n            onChange={e => setInputJson(e.target.value)}\r\n          >\r\n            {JSON.stringify(editorState, null, 2)}\r\n          </textarea>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}