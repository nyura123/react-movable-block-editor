(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){},182:function(e,t,n){e.exports=n(446)},187:function(e,t,n){},446:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),l=n.n(o),i=(n(187),n(48)),d=(n(118),n(447)),c=n(491),u=n(493),m=n(494),s=n(17),p=(n(162),n(163),n(5)),h=n(30),b=n(486),f=n(175),g=n.n(f),v=n(170),y=n.n(v),E=n(174),w=n.n(E),I=n(171),k=n.n(I),C=n(172),j=n.n(C),N=n(173),O=n.n(N),B=n(496),x=n(492),S=n(75),P=Object(b.a)(function(e){return{button:{margin:e.spacing(1)},fab:{margin:e.spacing(1)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:60},input:{display:"none"}}}),W=function(e){var t=Object(a.useState)(null),n=Object(i.a)(t,2),o=n[0],l=n[1],d=P(),c=function(e){l(o===e?null:e)},m=function(t){var n=e.value,a=n.byId,l=n.focusedNodeId;if(l){var i=l?a[l]:null;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{onClick:function(){return c(t)},color:i[t]}),o===t&&r.a.createElement("div",{style:{position:"absolute",zIndex:100}},r.a.createElement(S.SketchPicker,{color:i[t]||void 0,onChange:function(n){var a=n.hex;e.updateBlock(l,Object(h.a)({},t,a)),c(t)}})))}},b=e.breadCrumbsProps,f=e.value,v=f.byId,E=f.focusedNodeId,I=E?v[E]:null,C=e.focusNode,N=d.button;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(B.a,{title:"Add Row (position children horizontally)","aria-label":"Add"},r.a.createElement(u.a,{"aria-label":"add row",className:N,onClick:function(){return e.addRow()}},"+ Row")),r.a.createElement(B.a,{title:"Add Col (position children vertically)","aria-label":"Add"},r.a.createElement(u.a,{"aria-label":"add column",className:N,onClick:function(){return e.addCol()}},"+ Col")),r.a.createElement(B.a,{title:"Add Layer (position children absolutely)","aria-label":"Add"},r.a.createElement(u.a,{"aria-label":"add layer",className:N,onClick:function(){return e.addLayer()}},"+ Layer")),r.a.createElement(B.a,{title:"Add Text (markdown)","aria-label":"Add"},r.a.createElement(u.a,{"aria-label":"add markdown",className:N,onClick:function(){return e.addMarkDown()}},"+ Text")),r.a.createElement(u.a,{"aria-label":"add image",className:N,onClick:function(){return e.addImage()}},"+ Image"),r.a.createElement(u.a,{"aria-label":"add image",className:N,onClick:function(){e.onChange(function(e,t){if(!t)return alert("Please select node to add table to"),e;var n=window.prompt("Enter number or rows (max 10)","5");if(null===n)return e;var a=window.prompt("Enter number or columns (max 10)","5");if(null===a)return e;var r=window.prompt("Enter table width (max 400)","300");if(null===r)return e;var o=window.prompt("Enter table height (max 400)","300");if(null===o)return e;var l=Math.min(parseInt(r,10),400),i=Math.min(parseInt(o,10),400),d=Object(s.e)(e,{width:l,height:i,parentId:t}),c=d.value,u=d.createdBlock;if(!u)return e;e=c;for(var m=u.id,p=Math.max(1,Math.min(parseInt(n,10),10)),h=Math.max(1,Math.min(parseInt(a,10),10)),b=0;b<p;++b){var f=Object(s.f)(e,{height:i/p,parentId:m}),g=f.value,v=f.createdBlock;if(!v)break;e=g;for(var y=0;y<h;++y){var E=Object(s.e)(e,{parentId:v.id,height:v.height,width:v.width/h}),w=E.value,I=E.createdBlock;if(!I)break;e=w}}return e}(e.value,e.value.focusedNodeId))}},"+ Table"),r.a.createElement(u.a,{"aria-label":"add image",className:N,onClick:function(){e.onChange(function(e,t){var n=e.byId,a=t?n[t]:null;if(!t||!a)return alert("Please select node to add input to"),e;var r=Object(s.k)(n,"input"),o={type:"custom",customType:"input",height:50,width:100,id:r,name:r,childrenIds:[]};return Object(p.a)({},e,{byId:Object(s.m)(n,o,t),focusedNodeId:e.focusedNodeId||o.id})}(e.value,e.value.focusedNodeId))}},"+ Input")),I&&r.a.createElement("div",{style:{paddingLeft:15}},m("color"),m("backgroundColor"),r.a.createElement(u.a,{className:N,onClick:function(){return e.moveInDirection(I.id,"left")}},r.a.createElement(y.a,null)),r.a.createElement(u.a,{className:N,onClick:function(){return e.moveInDirection(I.id,"right")}},r.a.createElement(k.a,null)),r.a.createElement(u.a,{className:N,onClick:function(){return e.moveInDirection(I.id,"up")}},r.a.createElement(j.a,null)),r.a.createElement(u.a,{className:N,onClick:function(){return e.moveInDirection(I.id,"down")}},r.a.createElement(O.a,null)),r.a.createElement(B.a,{title:"Flip to front","aria-label":"Add"},r.a.createElement(u.a,{className:N,onClick:function(){return e.onChange(function(e,t){if(!t)return e;var n=e.byId,a=n[t];if(!a)return e;var r=a.parentId,o=n[r];return o?Object(s.j)(e,t,r,{afterItemId:o.childrenIds[o.childrenIds.length-1]}):e}(e.value,e.value.focusedNodeId))}},r.a.createElement(w.a,null))),r.a.createElement(u.a,{"aria-label":"copy",className:N,onClick:function(){return e.copyFocused()}},"Copy"),r.a.createElement(u.a,{"aria-label":"paste",className:N,onClick:function(){return e.paste()}},"Paste"),r.a.createElement(u.a,{"aria-label":"delete",className:d.fab,onClick:e.removeFocused},r.a.createElement(g.a,null)),r.a.createElement(B.a,{title:"Click breadcrumb to change focused block","aria-label":"Add"},r.a.createElement(u.a,null,r.a.createElement(s.a,Object.assign({onSelect:function(e){return C(e,!0)},byId:v,node:I},b)))),r.a.createElement("div",{style:{paddingBottom:5}},[{prop:"width",numeric:!0},{prop:"height",numeric:!0},{prop:"top",numeric:!0},{prop:"left",numeric:!0},{prop:"borderWidth",numeric:!0},{prop:"borderTopWidth",label:"bTopW",numeric:!0},{prop:"borderBottomWidth",label:"bBottomW",numeric:!0},{prop:"borderLeftWidth",label:"bLeftW",numeric:!0},{prop:"borderRightWidth",label:"bRightW",numeric:!0},{prop:"borderStyle",numeric:!1}].map(function(t){return r.a.createElement(x.a,{key:"prop_"+t.prop,label:t.label||t.prop,value:void 0===I[t.prop]?"":I[t.prop],onChange:(n=I.id,a=t.prop,o=t.numeric,function(t){e.updateBlock(n,Object(h.a)({},a,o?t.target.value?parseInt(t.target.value,10):void 0:t.target.value))}),type:t.numeric?"number":void 0,className:d.textField,InputLabelProps:{shrink:!0},margin:"normal"});var n,a,o}))))},T=function(e){return r.a.createElement(u.a,{size:"small",style:{borderWidth:1,fontSize:11,borderStyle:"solid",justifyContent:"flex-start"},onClick:e.onClick},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{borderWidth:1,borderRadius:3,borderStyle:"solid",width:20,height:20,backgroundColor:e.color||void 0}}),"\xa0",e.color?"":"none"))};function L(e){var t=e.node,n=e.renderEditBlock,a=e.value,o=e.onChange;switch(t.type){case"custom":return function(e){switch(e.node.customType){case"input":return r.a.createElement(R,{node:e.node,renderEditBlock:e.renderEditBlock,value:e.value,onChange:e.onChange});default:return r.a.createElement("div",null,"Unknown custom type ",e.node.customType)}}({node:t,renderEditBlock:n,value:a,onChange:o});default:return Object(s.g)({node:t,renderEditBlock:n,value:a,onChange:o})}}function A(e){var t=e.node,n=e.byId,a=e.renderPreviewBlock;switch(t.type){case"custom":return function(e){switch(e.node.customType){case"input":return r.a.createElement(D,{node:e.node,renderPreviewBlock:e.renderPreviewBlock,byId:e.byId});default:return r.a.createElement("div",null,"Unknown custom type ",e.node.customType)}}({node:t,renderPreviewBlock:a,byId:n});default:return Object(s.h)({byId:n,renderPreviewBlock:a,node:t})}}var R=function(e){var t=Object(a.useRef)(null),n=function(){return t&&t.current&&t.current.getBoundingClientRect?t.current.getBoundingClientRect():null};return r.a.createElement("div",{ref:t,draggable:!0,onDragStart:function(t){return Object(s.l)(t,e.node,n)},onClick:function(t){t.stopPropagation(),e.onChange(Object(s.i)(e.value,e.node,!0))},style:Object(p.a)({display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"lightpink",width:e.node.width,height:e.node.height},e.value.focusedNodeId===e.node.id?{borderStyle:"dashed",borderWidth:1,borderColor:"orange"}:{})},r.a.createElement("input",{onChange:function(t){e.onChange(Object(s.n)(e.value,e.node.id,{value:t.target.value}))},placeholder:"edit placeholder",value:e.node.value||""}))},D=function(e){return r.a.createElement("input",{placeholder:e.node.value})},F=Object(d.a)(function(e){return{paper:{backgroundColor:"white",position:"absolute",top:"20%",left:"20%",width:"60%",padding:20},breadcrumbNav:{display:"flex",listStyleType:"none",backgroundColor:"#f5f5f5",padding:10,flexDirection:"row"},breadcrumbItem:{cursor:"pointer","&::before":{content:'"  /  "'},marginRight:5}}}),M=function(){var e=F(),t=Object(a.useState)({copiedNode:null,focusedNodeId:"layer1",byId:{container1:{id:"container1",type:"col",name:"container1",parentId:null,width:500,height:300,childrenIds:["layer1"]},layer1:{id:"layer1",type:"layer",name:"layer1",parentId:"container1",width:510,height:310,childrenIds:["title","subheading","content","image1","row1"]},input1:{id:"input1",type:"custom",customType:"input",name:"input1",value:"First Name",parentId:"row1",width:100,height:50,childrenIds:[]},input2:{id:"input2",type:"custom",customType:"input",name:"input2",parentId:"row1",value:"Last Name",width:100,height:50,childrenIds:[]},title:{id:"title",type:"markdown",name:"title",parentId:"layer1",color:"#4A90E2",backgroundColor:"#E9E9E9",width:450,height:30,top:-10,left:10,value:"## Title",childrenIds:[]},subheading:{id:"subheading",type:"markdown",name:"subheading",parentId:"layer1",width:450,height:40,top:30,left:10,value:"#### Subheading",childrenIds:[]},image1:{id:"image1",type:"image",name:"image1",parentId:"layer1",width:200,height:200,top:90,left:10,value:"http://lorempixel.com/200/200/",childrenIds:[]},content:{id:"content",type:"markdown",name:"content",parentId:"layer1",width:240,height:40,top:90,left:220,value:"### Content",childrenIds:[]},row1:{id:"row1",type:"row",name:"row1",parentId:"layer1",width:240,height:40,top:230,left:220,childrenIds:["input1","input2"]}},rootNodeId:"container1"}),n=Object(i.a)(t,2),o=n[0],l=n[1],d=Object(a.useState)(!1),p=Object(i.a)(d,2),h=p[0],b=p[1],f=Object(a.useState)(!1),g=Object(i.a)(f,2),v=g[0],y=g[1],E=Object(a.useState)(""),w=Object(i.a)(E,2),I=w[0],k=w[1],C=function(){try{l(JSON.parse(I)),b(!1)}catch(e){console.error("Error loading from json",e),alert("Error loading from json: "+e)}};return r.a.createElement("div",null,r.a.createElement(u.a,{onClick:function(){return b(!0)}},"Load from json"),r.a.createElement(u.a,{onClick:function(){return y(!0)}},"View json"),r.a.createElement(s.c,{value:o,onChange:function(e){return console.log("VAL",e)||l(e)},UiComponent:W,controlUiProps:{breadCrumbsProps:{navClassName:e.breadcrumbNav,itemClassName:e.breadcrumbItem}}}),r.a.createElement(c.a,{container:!0,spacing:3},r.a.createElement(c.a,{item:!0,md:6},r.a.createElement("div",{style:{marginLeft:10}},r.a.createElement(s.b,{renderEditBlock:L,value:o,onChange:l}))),r.a.createElement(c.a,{item:!0,md:6},r.a.createElement("div",{style:{marginRight:10,borderWidth:1,borderStyle:"dashed"}},r.a.createElement(s.d,{byId:o.byId,renderPreviewBlock:A,node:o.byId[o.rootNodeId]})))),r.a.createElement(m.a,{"aria-labelledby":"view-json","aria-describedby":"view-json",open:v,onClose:function(){return y(!1)}},r.a.createElement("div",{className:e.paper},r.a.createElement(u.a,{onClick:function(){return y(!1)}},"Done"),r.a.createElement("div",null,"json:"),r.a.createElement("div",null,JSON.stringify(o)))),r.a.createElement(m.a,{"aria-labelledby":"load-from-json","aria-describedby":"load-from-json",open:h,onClose:C},r.a.createElement("div",{className:e.paper},r.a.createElement(u.a,{onClick:C},"Load"),r.a.createElement(u.a,{onClick:function(){return b(!1)}},"Cancel"),r.a.createElement("div",null,"json:"),r.a.createElement("br",null),r.a.createElement("textarea",{style:{height:200,width:"100%"},value:I,onChange:function(e){return k(e.target.value)}},JSON.stringify(o,null,2)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[182,1,2]]]);
//# sourceMappingURL=main.47f30f90.chunk.js.map