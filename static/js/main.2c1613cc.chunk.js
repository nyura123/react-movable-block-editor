(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,n){},247:function(e,t,n){},298:function(e,t,n){e.exports=n(730)},303:function(e,t,n){},730:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(37),d=n.n(a),i=(n(303),n(116)),l=(n(202),n(758)),c=n(757),u=n(760),s=n(759),p=n(3),h=n(1),f=n.n(h),m=n(285),v=n(141),g=n(286),b=n.n(g),y=n(287);function I(e,t){var n;return Object(p.a)({},e,((n={})[t.id]=t,n))}function C(e,t){var n,r=e[t];if(!r)return e;if(r&&r.parentId){var o=e[r.parentId];if(o)if(o.childrenIds.findIndex(function(e){return e===r.id})>=0){var a=o.childrenIds.filter(function(e){return e!==r.id});e=I(e,Object(p.a)({},o,{childrenIds:a}))}}return Object(p.a)({},e,((n={})[t]=void 0,n))}function w(e,t,n,r){if(!t)return e;if(function e(t,n,r){var o=t[n];if(!o)return!1;if(o.childrenIds.indexOf(r)>=0)return!0;for(var a=0,d=o.childrenIds;a<d.length;a++)if(e(t,d[a],r))return!1;return!1}(e,t.id,n))return console.warn("node ",t.id," has ",n," as child, so cannot make it into",t.id,"'s parent"),e;if(t.id===n)return console.warn("Cannot place into self: ",{id:t.id,newParentId:n}),e;if(t&&t.parentId&&t.parentId!==n){var o=e[t.parentId];if(o){var a=o.childrenIds.filter(function(e){return e!==t.id});e=I(e,Object(p.a)({},o,{childrenIds:a}))}}var d=e[n];return d&&(a=function(e,t,n){if(void 0===n&&(n={}),t===n.beforeItemId||t===n.afterItemId)return console.warn("Cannot place relative to self: ",Object(p.a)({itemId:t},n)),e;e=e.filter(function(e){return e!==t});var r=n.beforeItemId,o=n.afterItemId,a=-1;if(r?a=e.findIndex(function(e){return e===r}):o&&(a=e.findIndex(function(e){return e===o})+1),a>=0){var d=e.slice();return d.splice(a,0,t),d}return e.concat([t])}(d.childrenIds,t.id,r),e=I(e,Object(p.a)({},d,{childrenIds:a}))),I(e,Object(p.a)({},t,{parentId:n}))}var k=n(284).cloneDeep;function E(e,t){return t?Object(p.a)({},t,{value:k(t.value),childrenIds:t.childrenIds.slice(),children:t.childrenIds.map(function(t){return E(e,e[t])})}):t}function N(e){var t=e.byId,n=(e||{copiedNode:null}).copiedNode;if(!n)return e;var r=function e(t,n){var r;n.id=O(t,n.type);var o=n.children;if(n.children=void 0,t=Object(p.a)({},t,(r={},r[n.id]=n,r)),o)for(var a=0,d=0,i=o;d<i.length;d++){var l=i[d];l.parentId=n.id;var c=e(t,l),u=c.byId,s=c.newId;n.childrenIds[a]=s,t=u,++a}return{byId:t,newId:n.id}}(t,n=k(n)).byId;if(n.parentId){var o=t[n.parentId];if(o)return Object(p.a)({},e,{byId:w(r,n,n.parentId,{afterItemId:o.childrenIds[o.childrenIds.length-1]})})}return e}function O(e,t){void 0===t&&(t="node");for(var n=Object.keys(e).length;e[n];)n++;return t+"_"+n}function j(e,t,n){var r=e.byId,o=Object(p.a)({},r[t],n);return Object(p.a)({},e,{byId:I(r,o)})}function B(e,t,n,r){if(void 0===r&&(r={}),!n)return e;var o=e.byId,a=o[t];return Object(p.a)({},e,{byId:w(o,Object(p.a)({},a,{isPlaceHolder:r.isPlaceHolder},r.absolutePos?{top:r.absolutePos.top,left:r.absolutePos.left}:{}),n,r)})}function x(e,t,n){if(void 0===n&&(n=!0),!t)return e;var r=e.focusedNodeId;return Object(p.a)({},e,{focusedNodeId:n?t.id:r===t.id?null:r})}function P(e){var t=e.filter(function(e){return 0===e.indexOf("draggednodeid:")}),n=e.filter(function(e){return 0===e.indexOf("draggednodetype:")});return 1!==t.length||1!==n.length?{draggedNodeId:"notanode",draggedNodeType:null}:{draggedNodeId:t[0].slice("draggednodeid:".length),draggedNodeType:n[0].slice("draggednodetype:".length)}}function D(e,t){return t?{left:e.clientX-t.left,top:e.clientY-t.top,width:t.width,height:t.height}:null}function R(e,t,n){e.stopPropagation();var r=D(e,n());r&&e.dataTransfer.setData("text/plain",JSON.stringify({startLeft:r.left,startTop:r.top})),e.dataTransfer.setData("draggednodeid:"+t.id,""),e.dataTransfer.setData("draggednodetype:"+t.type,"")}function T(e,t,n,r){return void 0===n&&(n={}),B(r,P(e).draggedNodeId,t,n)}var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selfRef=null,t.getBoundingRect=function(){return t.selfRef&&t.selfRef.getBoundingClientRect?t.selfRef.getBoundingClientRect():null},t.canDrop=function(e){var t=P(e).draggedNodeType;return"row"===t||"col"===t||"markdown"===t||"image"===t||"layer"===t||"custom"===t},t.onDrop=function(e,n){if((void 0===n&&(n=!1),t.canDrop(e.dataTransfer.types))&&(e.stopPropagation(),P(e.dataTransfer.types).draggedNodeId)){var r=D(e,t.getBoundingRect()),o=t.props.node.childrenIds.length?t.props.node.childrenIds[t.props.node.childrenIds.length-1]:void 0,a=JSON.parse(e.dataTransfer.getData("text/plain"));t.props.onChange(T(e.dataTransfer.types,t.props.node.id,r?{afterItemId:o,absolutePos:{top:r.top-a.startTop,left:r.left-a.startLeft}}:void 0,t.props.value))}},t.onDragEnter=function(e){e.preventDefault()},t.onDragOver=function(e){t.canDrop(e.dataTransfer.types)&&(e.preventDefault(),e.stopPropagation())},t}return Object(p.b)(t,e),t.prototype.renderChild=function(e){var t=this.props,n=t.value,r=t.onChange,o=t.renderEditBlock;return o({node:n.byId[e],renderEditBlock:o,value:n,onChange:r})},t.prototype.render=function(){var e=this,t=this.props,n=t.node,r=t.value.byId,o=n.childrenIds;return Object(h.createElement)("div",{ref:function(t){return e.selfRef=t},onDragOver:this.onDragOver,onDrop:this.onDrop,draggable:!0,onDragStart:function(t){return R(t,e.props.node,e.getBoundingRect)},style:{position:"relative",width:n.width,height:n.height,backgroundColor:n.backgroundColor||"#f5f5f5a3",borderRadius:3}},o.map(function(t){var n=r[t];return Object(h.createElement)("div",{key:"node_"+t,style:{position:"absolute",width:n.width,height:n.height,top:0,left:0,transform:"translate("+n.left+"px,"+n.top+"px)"}},e.renderChild(t))}))},t}(h.Component),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selfRef=null,t.state={wantToPlaceNext:null},t.getBoundingRect=function(){return t.selfRef&&t.selfRef.getBoundingClientRect?t.selfRef.getBoundingClientRect():null},t.canDrop=function(e){var n=t.props,r=n.value.byId,o=n.node,a=o.parentId?r[o.parentId]:null,d=P(e).draggedNodeType;return"col"===d&&a&&"row"===a.type||!t.props.children&&("row"===d||"markdown"===d||"image"===d||"layer"===d||"custom"===d)},t.shouldPlaceBefore=function(e,n){var r=D(e,t.getBoundingRect());return r&&("y"===n?r.top/r.height<.45:r.left/r.width<.45)},t.onDrop=function(e,n){if(void 0===n&&(n=!1),t.canDrop(e.dataTransfer.types)){e.stopPropagation(),n||null===t.state.wantToPlaceNext||t.setState({wantToPlaceNext:null});var r=P(e.dataTransfer.types),o=r.draggedNodeId,a=r.draggedNodeType;if(o)if("col"===a){var d=t.shouldPlaceBefore(e,"x"),i=d?{beforeItemId:t.props.node.id}:{afterItemId:t.props.node.id};t.props.onChange(T(e.dataTransfer.types,t.props.node.parentId||"",Object(p.a)({},i,{isPlaceHolder:n}),t.props.value))}else{d=t.shouldPlaceBefore(e,"y");var l=t.props.node.childrenIds,c=l.length;i=c?d?{beforeItemId:l[0]}:{afterItemId:l[c-1]}:null,t.props.onChange(T(e.dataTransfer.types,t.props.node.id,Object(p.a)({isPlaceHolder:n},i),t.props.value))}}},t.onDragEnter=function(e){e.preventDefault()},t.onDragOver=function(e){if(t.canDrop(e.dataTransfer.types))if(e.preventDefault(),e.stopPropagation(),"col"===P(e.dataTransfer.types).draggedNodeType){var n=t.shouldPlaceBefore(e,"x");n&&"left"!==t.state.wantToPlaceNext?t.setState({wantToPlaceNext:"left"}):n||"right"===t.state.wantToPlaceNext||t.setState({wantToPlaceNext:"right"})}else n=t.shouldPlaceBefore(e,"y"),t.setState({wantToPlaceNext:n?"firstChild":"lastChild"})},t.onDragLeave=function(e){null!==t.state.wantToPlaceNext&&t.setState({wantToPlaceNext:null})},t}return Object(p.b)(t,e),t.prototype.renderChild=function(e){var t=this.props,n=t.value,r=t.onChange,o=t.renderEditBlock;return o({node:n.byId[e],renderEditBlock:o,value:n,onChange:r})},t.prototype.render=function(){var e=this,t=this.props.children,n=this.props,r=n.node,o=n.value.byId,a=this.state.wantToPlaceNext,d=r.childrenIds,i="firstChild"===a?3:0;return Object(h.createElement)("div",{key:"col_"+r.id,style:{display:"flex",flexDirection:"row",width:"100%",height:"100%"}},"left"===a&&Object(h.createElement)("div",{style:{height:"100%",width:3,backgroundColor:"white"}}),Object(h.createElement)("div",{ref:function(t){return e.selfRef=t},onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragEnter:this.onDragEnter,draggable:!0,onDragStart:function(t){return R(t,e.props.node,e.getBoundingRect)},style:{width:"100%",height:"100%",borderRadius:3,backgroundColor:this.props.node.isPlaceHolder?"grey":this.props.node.backgroundColor||"#ffffffa8",borderStyle:"solid",borderWidth:1}},"firstChild"===a&&Object(h.createElement)("div",{style:{height:10,width:"100%",backgroundColor:"blue"}}),h.Children.count(t)?t:d.map(function(t){var n=o[t],r=Object(h.createElement)("div",{className:"drag-node",key:"node_"+t,style:{position:"absolute",width:n.width,height:n.height,top:0,left:0,transform:"translate(0,"+i+"px)"}},e.renderChild(t));return i+=n.height,r}),"lastChild"===a&&Object(h.createElement)("div",{style:{top:0,left:0,transform:"translate(0,"+i+"px)",position:"absolute",height:10,width:"100%",backgroundColor:"orange"}})),"right"===a&&Object(h.createElement)("div",{style:{height:"100%",width:3,backgroundColor:"white"}}))},t}(h.Component),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={wantToPlaceNext:null},t.selfRef=null,t.getBoundingRect=function(){return t.selfRef&&t.selfRef.getBoundingClientRect?t.selfRef.getBoundingClientRect():null},t.canDrop=function(e){var n=P(e).draggedNodeType,r=t.props,o=r.value.byId,a=r.node,d=a.parentId?o[a.parentId]:null;return"row"===n&&d&&"col"===d.type||!t.props.children&&("col"===n||"markdown"===n||"image"===n||"layer"===n||"custom"===n)},t.shouldPlaceBefore=function(e,n){var r=D(e,t.getBoundingRect());return r&&("y"===n?r.top/r.height<.3:r.left/r.width<.3)},t.onDrop=function(e,n){if(void 0===n&&(n=!1),t.canDrop(e.dataTransfer.types)){e.stopPropagation(),n||null===t.state.wantToPlaceNext||t.setState({wantToPlaceNext:null});var r=P(e.dataTransfer.types),o=r.draggedNodeId,a=r.draggedNodeType;if(o){var d=t.shouldPlaceBefore(e,"y");if("row"===a){var i=d?{beforeItemId:t.props.node.id}:{afterItemId:t.props.node.id};t.props.onChange(T(e.dataTransfer.types,t.props.node.parentId||"",Object(p.a)({},i,{isPlaceHolder:n}),t.props.value))}else{var l=t.shouldPlaceBefore(e,"x"),c=t.props.node.childrenIds,u=c.length;i=u?l?{beforeItemId:c[0]}:{afterItemId:c[u-1]}:null,t.props.onChange(T(e.dataTransfer.types,t.props.node.id,Object(p.a)({isPlaceHolder:n},i),t.props.value))}}}},t.onDragEnter=function(e){e.preventDefault()},t.onDragOver=function(e){var n=P(e.dataTransfer.types).draggedNodeType;if(t.canDrop(e.dataTransfer.types))if(e.preventDefault(),e.stopPropagation(),"row"===n){var r=t.shouldPlaceBefore(e,"y");r&&"top"!==t.state.wantToPlaceNext?t.setState({wantToPlaceNext:"top"}):r||"bottom"===t.state.wantToPlaceNext||t.setState({wantToPlaceNext:"bottom"})}else r=t.shouldPlaceBefore(e,"x"),t.setState({wantToPlaceNext:r?"firstChild":"lastChild"})},t.onDragLeave=function(e){null!==t.state.wantToPlaceNext&&t.setState({wantToPlaceNext:null})},t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this,t=this.props.children,n=this.props,r=n.node,o=n.value,a=n.onChange,d=n.renderEditBlock,i=this.state.wantToPlaceNext,l="firstChild"===i?3:0;return Object(h.createElement)("div",{key:"row_"+r.id},"top"===i&&Object(h.createElement)("div",{style:{height:3,width:"100%",backgroundColor:"black"}}),Object(h.createElement)("div",{ref:function(t){return e.selfRef=t},onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter,onDrop:this.onDrop,draggable:!0,onDragStart:function(t){return R(t,e.props.node,e.getBoundingRect)},style:{position:"relative",height:r.height,width:r.width,borderStyle:"dashed",borderWidth:0,borderBottomWidth:1,backgroundColor:r.isPlaceHolder?"darkgrey":r.backgroundColor||"#b5bbb9b0"}},"firstChild"===i&&Object(h.createElement)("div",{style:{height:"100%",width:3,backgroundColor:"blue"}}),h.Children.count(t)?t:r.childrenIds.map(function(e){var t=o.byId[e],n=Object(h.createElement)("div",{className:"drag-node",key:"node_"+t.id,style:{position:"absolute",width:t.width,height:t.height,top:0,left:0,transform:"translate("+l+"px,0)"}},d({node:t,renderEditBlock:d,value:o,onChange:a}));return l+=t.width,n}),"lastChild"===i&&Object(h.createElement)("div",{style:{position:"absolute",top:0,left:0,transform:"translate("+l+"px,0)",height:"100%",width:3,backgroundColor:"orange"}})),"bottom"===i&&Object(h.createElement)("div",{style:{height:3,width:"100%",backgroundColor:"green"}}))},t}(h.Component),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selfRef=null,t.getBoundingRect=function(){return t.selfRef&&t.selfRef.getBoundingClientRect?t.selfRef.getBoundingClientRect():null},t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this,t=this.props.node;return Object(h.createElement)("div",{ref:function(t){return e.selfRef=t},draggable:!0,onDragStart:function(t){return R(t,e.props.node,e.getBoundingRect)},style:{width:"100%",height:"100%",backgroundColor:"violet",padding:5,borderRadius:3}},Object(h.createElement)("img",{style:{width:"100%",height:"100%"},src:t.value}))},t}(h.Component),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selfRef=null,t.getBoundingRect=function(){return t.selfRef&&t.selfRef.getBoundingClientRect?t.selfRef.getBoundingClientRect():null},t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.node,r=t.update,o=n.value;return Object(h.createElement)("div",{ref:function(t){return e.selfRef=t},draggable:!0,onDragStart:function(t){return R(t,e.props.node,e.getBoundingRect)},style:{width:"100%",height:"100%",backgroundColor:"#ffc0cb75",padding:5,borderRadius:3}},Object(h.createElement)("textarea",{className:"form-control",name:"value",placeholder:"Type here...",value:o,onChange:function(e){return r(n.id,{value:e.target.value})}}))},t}(h.Component),_=function(e){var t=e.node,n=e.renderEditBlock,r=e.value,o=e.onChange,a=e.width,d=e.height,i=r.focusedNodeId;return Object(h.createElement)("div",{onClick:function(e){e.stopPropagation(),o(x(r,t))},style:t.id===i?{borderStyle:"dashed",borderWidth:1,borderColor:"orange"}:{}},Object(h.createElement)(m.ResizableBox,{className:"box",width:a,height:d,onResizeStart:function(e){e.preventDefault(),e.stopPropagation()},onResize:function(e,n){var a=n.size,d=a.width,i=a.height;o(j(r,t.id,{width:d,height:i}))}},"col"===t.type?Object(h.createElement)(W,{key:"col_"+t.id,node:t,renderEditBlock:n,value:r,onChange:o}):"row"===t.type?Object(h.createElement)(M,{key:"row_"+t.id,node:t,renderEditBlock:n,value:r,onChange:o}):"markdown"===t.type?Object(h.createElement)(F,{node:t,update:function(e,t){return o(j(r,e,t))}}):"layer"===t.type?Object(h.createElement)(S,{key:"layer_"+t.id,node:t,renderEditBlock:n,value:r,onChange:o}):Object(h.createElement)(L,{key:"image_"+t.id,node:t,renderEditBlock:n,value:r,onChange:o})))},H=function(e){var t=e.node,n=e.renderEditBlock,r=e.value,o=e.onChange;return Object(h.createElement)(_,{width:t.width,height:t.height,renderEditBlock:n,node:t,value:r,onChange:o})},U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:t.props.value},t}return Object(p.b)(t,e),t.prototype.componentDidMount=function(){if(this.props.onChange){var e=this.state.value;this.props.onChange(e)}},t.prototype.componentDidUpdate=function(e,t){if(this.props.onChange&&this.state.value!==t.value&&this.state.value!==this.props.value){var n=this.state.value;this.props.onChange(n)}else this.props.value&&e.value!==this.props.value&&this.props.value!==this.state.value&&this.setState({value:this.props.value});this.state.value.byId!==t.value.byId&&this.state.value.undoStack===t.value.undoStack&&this.setState({value:Object(p.a)({},this.state.value,{undoStack:[Object(v.a)(t.value.byId)].concat(this.state.value.undoStack).slice(0,10)})})},t.prototype.render=function(){var e=this,t=this.props.renderEditBlock,n=this.state.value,r=n.byId[n.rootNodeId];return Object(h.createElement)("div",{style:{position:"relative",width:r.width,height:r.height}},Object(h.createElement)(W,{key:"col_"+r.id,node:r,renderEditBlock:t,value:this.state.value,onChange:function(t){return e.setState({value:t})}}))},t.defaultProps={renderEditBlock:H,onChange:function(e){}},t}(h.Component);function z(e){return!!e.borderWidth&&e.borderWidth>0||!!e.borderTopWidth&&e.borderTopWidth>0||!!e.borderBottomWidth&&e.borderBottomWidth>0||!!e.borderLeftWidth&&e.borderLeftWidth>0||!!e.borderRightWidth&&e.borderRightWidth>0}var J=function(e){return{color:e.color||void 0,display:e.display||void 0,flexDirection:e.flexDirection||void 0,justifyContent:e.justifyContent||void 0,alignItems:e.alignItems||void 0,backgroundColor:e.backgroundColor||void 0,borderWidth:void 0!==e.borderWidth?e.borderWidth:0,borderTopWidth:void 0!==e.borderTopWidth?e.borderTopWidth:void 0,borderBottomWidth:void 0!==e.borderBottomWidth?e.borderBottomWidth:void 0,borderLeftWidth:void 0!==e.borderLeftWidth?e.borderLeftWidth:void 0,borderRightWidth:void 0!==e.borderRightWidth?e.borderRightWidth:void 0,borderStyle:e.borderStyle?e.borderStyle||void 0:z(e)?"solid":void 0}},A=function(e){var t=e.byId,n=e.node,r=e.renderPreviewBlock,o=void 0===r?V:r;if(!n)return null;switch(n.type){case"markdown":return Object(h.createElement)("div",{key:n.id,style:Object(p.a)({},J(n),{height:n.height,width:n.width})},Object(h.createElement)(b.a,{source:n.value}));case"layer":return Object(h.createElement)("div",{key:n.id,style:Object(p.a)({position:"relative"},J(n),{height:n.height,width:n.width})},n.childrenIds.map(function(e){var n=t[e];return Object(h.createElement)("div",{key:n.id,style:{position:"absolute",top:n.top||0,left:n.left||0}},o({byId:t,node:t[e],renderPreviewBlock:o}))}));case"image":return Object(h.createElement)("div",{key:n.id,style:{height:"100%",width:"100%"}},Object(h.createElement)("img",{src:n.value}));case"col":return Object(h.createElement)("div",{key:n.id,style:Object(p.a)({},J(n),{width:n.width,height:n.height,display:"flex",flexDirection:"column"})},n.childrenIds.map(function(e){return o({byId:t,node:t[e],renderPreviewBlock:o})}));case"row":return Object(h.createElement)("div",{key:n.id,style:Object(p.a)({},J(n),{width:n.width,height:n.height,display:"flex",flexDirection:"row"})},n.childrenIds.map(function(e){return o({byId:t,node:t[e],renderPreviewBlock:o})}));case"custom":return null}},V=function(e){var t=e.byId,n=e.node,r=e.renderPreviewBlock;return Object(h.createElement)(A,{key:"node_"+n.id,node:n,byId:t,renderPreviewBlock:r})},X=function(e){var t=e.byId,n=e.node,r=e.onSelect,o=e.navClassName,a=void 0===o?"breadcrumb":o,d=e.itemClassName,i=void 0===d?"breadcrumb-item btn btn-link active":d;if(!n)return null;for(var l=[],c=n.id;c;){var u=t[c];if(!u)break;l.unshift({label:u.type+"-"+u.id,id:u.id}),c=u.parentId}return Object(h.createElement)("nav",{"aria-label":"breadcrumb"},Object(h.createElement)("ol",{className:a},l.map(function(e){return Object(h.createElement)("li",{onClick:function(){return r(e.id)},key:"crumb_"+e.id,className:i,"aria-current":"page"},e.label)})))};function Y(e,t){var n=e.byId,r=e.rootNodeId,o=e.focusedNodeId,a=(t?t.parentId:o)||r,d=n[a],i=["col","layer"];if((!d||i.indexOf(d.type)<0)&&(!(d=(a=d?d.parentId:null)?n[a]:d)||i.indexOf(d.type)<0))return{error:"Can only add a row inside "+i.join(", ")+", please select a column by clicking on it",value:e};var l=O(n,"row"),c=Object(p.a)({type:"row",height:100,width:d&&d.width?d.width:500},t,{id:l,name:l,childrenIds:[]}),u={};if("col"===(d=(n=w(n,c,d.id))[a]).type&&d&&d.childrenIds.length>=1)for(var s=d.height/d.childrenIds.length,h=0,f=d.childrenIds;h<f.length;h++){var m=f[h];u[m]=Object(p.a)({},n[m],{height:s})}return{createdBlock:c,value:Object(p.a)({},e,{byId:Object(p.a)({},n,u),focusedNodeId:o||c.id})}}function $(e,t){var n=e.byId,r=e.rootNodeId,o=e.focusedNodeId,a=(t?t.parentId:o)||r,d=n[a],i=["row","layer"];if((!d||i.indexOf(d.type)<0)&&(!(d=(a=d?d.parentId:null)?n[a]:d)||i.indexOf(d.type)<0))return{error:"Can only add a column inside "+i.join(", ")+", please select a column by clicking on it",value:e};var l=O(n,"col"),c=Object(p.a)({type:"col",width:100,height:d.height?d.height:100},t,{id:l,name:l,childrenIds:[]}),u={};if("row"===(d=(n=w(n,c,a))[a]).type&&d&&d.childrenIds.length>=1)for(var s=d.width/d.childrenIds.length,h=0,f=d.childrenIds;h<f.length;h++){var m=f[h];u[m]=Object(p.a)({},n[m],{width:s})}return{createdBlock:c,value:Object(p.a)({},e,{byId:Object(p.a)({},n,u),focusedNodeId:o||c.id})}}var q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedMenu:null,selectedColor:null},t.toggleMenu=function(e){if(t.setState({selectedMenu:t.state.selectedMenu===e?null:e}),"color"===e||"backgroundColor"===e){var n=t.props.value,r=n.byId,o=n.focusedNodeId,a=o?r[o]:null;t.setState({selectedColor:a?a.color:void 0})}},t.renderColorMenuItem=function(e){var n=t.props.value,r=n.byId,o=n.focusedNodeId;if(o){var a=o?r[o]:null;return f.a.createElement(f.a.Fragment,null,f.a.createElement(G,{onClick:function(){return t.toggleMenu(e)},color:a[e]}),t.state.selectedMenu===e&&f.a.createElement("div",{style:{position:"absolute",zIndex:100,backgroundColor:"white"}},f.a.createElement("button",{className:t.props.buttonClassName,onClick:function(){var n;t.props.updateBlock(o,((n={})[e]=void 0,n)),t.toggleMenu(e)}},"Clear"),f.a.createElement("button",{className:t.props.buttonClassName,onClick:function(){var n;t.toggleMenu(e),t.props.updateBlock(o,((n={})[e]=t.state.selectedColor,n))}},"Done"),f.a.createElement(y.SketchPicker,{color:t.state.selectedColor||void 0,onChangeComplete:function(e){var n=e.hex;t.setState({selectedColor:n})}})))}},t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.buttonClassName,n=e.breadCrumbsProps,r=e.value,o=r.byId,a=r.focusedNodeId,d=this.props,i=a?o[a]:null,l=d.focusNode,c=t;return f.a.createElement("div",null,f.a.createElement("div",null,f.a.createElement("button",{"aria-label":"add row",className:c,onClick:function(){return d.addRow()}},"+ Row"),f.a.createElement("button",{"aria-label":"add column",className:c,onClick:function(){return d.addCol()}},"+ Col"),f.a.createElement("button",{"aria-label":"add layer",className:c,onClick:function(){return d.addLayer()}},"+ Layer"),f.a.createElement("button",{"aria-label":"add markdown",className:c,onClick:function(){return d.addMarkDown()}},"+ Text"),f.a.createElement("button",{"aria-label":"add image",className:c,onClick:function(){return d.addImage()}},"+ Image"),f.a.createElement("button",{"aria-label":"add image",className:c,onClick:function(){d.onChange(function(e,t){if(!t)return alert("Please select node to add table to"),e;var n=window.prompt("Enter number or rows (max 10)","5");if(null===n)return e;var r=window.prompt("Enter number or columns (max 10)","5");if(null===r)return e;var o=window.prompt("Enter table width (max 400)","300");if(null===o)return e;var a=window.prompt("Enter table height (max 400)","300");if(null===a)return e;var d=Math.min(parseInt(o,10),400),i=Math.min(parseInt(a,10),400),l=$(e,{width:d,height:i,parentId:t}),c=l.value,u=l.createdBlock;if(!u)return e;e=c;for(var s=u.id,p=Math.max(1,Math.min(parseInt(n,10),10)),h=Math.max(1,Math.min(parseInt(r,10),10)),f=0;f<p;++f){var m=Y(e,{height:i/p,parentId:s}),v=m.value,g=m.createdBlock;if(!g)break;e=v;for(var b=0;b<h;++b){var y=$(e,{parentId:g.id,height:g.height,width:g.width/h}),I=y.value;if(!y.createdBlock)break;e=I}}return e}(d.value,d.value.focusedNodeId))}},"+ Table"),f.a.createElement("button",{"aria-label":"undo",className:c,onClick:d.undo},"Undo"),f.a.createElement("button",{"aria-label":"redo",className:c,onClick:d.redo},"Redo")),i&&f.a.createElement("div",{style:{paddingLeft:15}},this.renderColorMenuItem("color"),this.renderColorMenuItem("backgroundColor"),f.a.createElement("button",{className:c,onClick:function(){return d.moveInDirection(i.id,"left")}},"\u2b05\ufe0f"),f.a.createElement("button",{className:c,onClick:function(){return d.moveInDirection(i.id,"right")}},"\u27a1\ufe0f"),f.a.createElement("button",{className:c,onClick:function(){return d.moveInDirection(i.id,"up")}},"\u2b06"),f.a.createElement("button",{className:c,onClick:function(){return d.moveInDirection(i.id,"down")}},"\u2b07"),f.a.createElement("button",{className:c,onClick:function(){return d.onChange(function(e,t){if(!t)return e;var n=e.byId,r=n[t];if(!r)return e;var o=r.parentId,a=n[o];return a?B(e,t,o,{afterItemId:a.childrenIds[a.childrenIds.length-1]}):e}(d.value,d.value.focusedNodeId))}},"FlipToFront"),f.a.createElement("button",{"aria-label":"copy",className:c,onClick:function(){return d.copyFocused()}},"Copy"),f.a.createElement("button",{"aria-label":"paste",className:c,onClick:function(){return d.paste()}},"Paste"),f.a.createElement("button",{"aria-label":"delete",onClick:d.removeFocused},"\ud83d\uddd1"),f.a.createElement("div",null,f.a.createElement(X,Object(p.a)({onSelect:function(e){return l(e,!0)},byId:o,node:i},n))),f.a.createElement("div",{style:{paddingBottom:20}},[{prop:"width",numeric:!0},{prop:"height",numeric:!0},{prop:"top",numeric:!0},{prop:"left",numeric:!0},{prop:"borderWidth",numeric:!0},{prop:"borderTopWidth",numeric:!0},{prop:"borderBottomWidth",numeric:!0},{prop:"borderLeftWidth",numeric:!0},{prop:"borderRightWidth",numeric:!0},{prop:"borderStyle",numeric:!1}].map(function(e){return f.a.createElement("div",{key:e.prop,style:{display:"inline-block",marginRight:10},className:"form-group"},f.a.createElement("label",{style:{marginRight:5},htmlFor:e.prop,className:"form-label"},e.prop),f.a.createElement("input",{name:e.prop,className:"form-control",key:"prop_"+e.prop,value:void 0===i[e.prop]?"":i[e.prop],onChange:(t=i.id,n=e.prop,r=e.numeric,function(e){var o;d.updateBlock(t,((o={})[n]=r?e.target.value?parseInt(e.target.value,10):void 0:e.target.value,o))}),type:e.numeric?"numeric":void 0}));var t,n,r}))))},t}(f.a.Component),G=function(e){return f.a.createElement("button",{style:{borderWidth:1,fontSize:11,borderStyle:"solid",justifyContent:"flex-start"},onClick:e.onClick},f.a.createElement("div",{style:{display:"flex"}},f.a.createElement("div",{style:{borderWidth:1,borderRadius:3,borderStyle:"solid",width:20,height:20,backgroundColor:e.color||void 0}}),"\xa0",e.color?"":"none"))},K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.addRow=function(e){var n=Y(t.props.value,e),r=n.error,o=n.value;r?alert(r):t.props.onChange(o)},t.addCol=function(e){var n=$(t.props.value,e),r=n.error,o=n.value;r?alert(r):t.props.onChange(o)},t.addMarkDown=function(e){var n=function(e,t){var n=e.byId,r=e.rootNodeId,o=e.focusedNodeId,a=(t?t.parentId:o)||r,d=n[a],i=["row","col","layer"];if(!d||i.indexOf(d.type)<0)return{error:"Can only add markdown text inside "+i.join(", "),value:e};var l=O(n,"markdown"),c=Object(p.a)({type:"markdown",width:Math.max(1,d.width-20),height:Math.max(1,d.height-20)},t,{id:l,name:l,childrenIds:[]});return{createdBlock:c,value:Object(p.a)({},e,{byId:w(n,c,a),focusedNodeId:c.id})}}(t.props.value,e),r=n.error,o=n.value;r?alert(r):t.props.onChange(o)},t.addImage=function(e){var n=function(e,t){var n=t&&t.value?t.value:window.prompt("Please enter image url","http://lorempixel.com/200/200/");if(null===n)return{error:"no image selected",value:e};var r=e.byId,o=e.rootNodeId,a=e.focusedNodeId,d=(t?t.parentId:a)||o,i=r[d],l=["row","col","layer"];if(!i||l.indexOf(i.type)<0)return{error:"Can only add an image inside "+l.join(", "),value:e};var c=O(r,"image"),u=Object(p.a)({type:"image",value:n,width:200,height:200},t,{id:c,name:c,childrenIds:[]});return{createdBlock:u,value:Object(p.a)({},e,{byId:w(r,u,d),focusedNodeId:u.id})}}(t.props.value,e),r=n.error,o=n.value;r?alert(r):t.props.onChange(o)},t.addLayer=function(e){var n=function(e,t){var n=e.byId,r=e.rootNodeId,o=e.focusedNodeId,a=(t?t.parentId:o)||r,d=n[a],i=["row","col","layer"];if(!d||i.indexOf(d.type)<0)return{error:"Can only add a layer inside "+i.join(", "),value:e};var l=O(n,"layer"),c=Object(p.a)({type:"layer",width:Math.max(1,d.width-20),height:Math.max(1,d.height-20)},t,{id:l,name:l,childrenIds:[]});return{createdBlock:c,value:Object(p.a)({},e,{byId:w(n,c,a),focusedNodeId:c.id})}}(t.props.value,e),r=n.error,o=n.value;r?alert(r):t.props.onChange(o)},t.removeFocused=function(){var e=t.props.value.focusedNodeId;e&&t.destroy(e)},t.focusNode=function(e,n){void 0===n&&(n=!0);var r=t.props.value;t.props.onChange(x(r,e,n))},t.create=function(e){t.props.onChange(function(e,t){var n=e.byId,r=O(n),o=Object(p.a)({},n[r],t);return Object(p.a)({},e,{byId:I(n,o)})}(t.props.value,e))},t.updateBlock=function(e,n){t.props.onChange(j(t.props.value,e,n))},t.destroy=function(e){t.props.onChange(function(e,t){var n=e.byId,r=e.rootNodeId,o=e.focusedNodeId;return r===t?(alert("Cannot destroy root node"),Object(p.a)({},e,{byId:n,focusedNodeId:o})):Object(p.a)({},e,{byId:C(n,t),focusedNodeId:o===t?null:o})}(t.props.value,e))},t.move=function(e,n,r){void 0===r&&(r={}),t.props.onChange(B(t.props.value,e,n,r))},t.moveInDirection=function(e,n){t.props.onChange(function(e,t,n){void 0===n&&(n={});var r=e.byId,o=r[t];if(!o)return e;var a=o.parentId;if(!a)return e;var d=r[a];if(!d)return e;var i=r[d.parentId],l=d.childrenIds.indexOf(t);if(l<0)return e;var c={};if("row"===d.type)if("left"===n.direction){if(0===l)return e;c={beforeItemId:d.childrenIds[l-1]}}else{if("right"!==n.direction){if(i&&"col"===i.type){var u=i.childrenIds.indexOf(d.id);return u>0&&"up"===n.direction?B(e,t,i.childrenIds[u-1]):u<i.childrenIds.length-1&&"down"===n.direction?B(e,t,i.childrenIds[u+1]):e}return e}if(l>=d.childrenIds.length-1)return e;c={afterItemId:d.childrenIds[l+1]}}else if("col"===d.type)if("up"===n.direction){if(0===l)return e;c={beforeItemId:d.childrenIds[l-1]}}else{if("down"!==n.direction)return i&&"row"===i.type?(u=i.childrenIds.indexOf(d.id))>0&&"left"===n.direction?B(e,t,i.childrenIds[u-1]):u<i.childrenIds.length-1&&"right"===n.direction?B(e,t,i.childrenIds[u+1]):e:e;if(l>=d.childrenIds.length-1)return e;c={afterItemId:d.childrenIds[l+1]}}else if("layer"===d.type){var s=("up"===n.direction?-1:"down"===n.direction?1:0)*(n.stepPx||1),h=("left"===n.direction?-1:"right"===n.direction?1:0)*(n.stepPx||1);c={absolutePos:{top:(o.top||0)+s,left:(o.left||0)+h}}}return Object(p.a)({},e,{byId:w(r,Object(p.a)({},o,{isPlaceHolder:c.isPlaceHolder},c.absolutePos?{top:c.absolutePos.top,left:c.absolutePos.left}:{}),a,c)})}(t.props.value,e,{direction:n}))},t.copyFocused=function(){var e=t.props.value,n=e.byId,r=e.focusedNodeId;if(r){var o=n[r];t.props.onChange(Object(p.a)({},t.props.value,{copiedNode:E(n,o)}))}},t.paste=function(){t.props.onChange(N(t.props.value))},t.undo=function(){var e=t.props.value,n=e.byId,r=e.undoStack,o=e.redoStack;if(r.length>0){var a=r[0],d=[n].concat(o),i=r.slice(1);t.props.onChange(Object(p.a)({},t.props.value,{byId:a,undoStack:i,redoStack:d}))}},t.redo=function(){var e=t.props.value,n=e.byId,r=e.undoStack,o=e.redoStack;if(o.length>0){var a=o[0],d=[n].concat(r),i=o.slice(1);t.props.onChange(Object(p.a)({},t.props.value,{byId:a,undoStack:d,redoStack:i}))}},t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.UiComponent,r=t.onChange,o=t.value,a=t.controlUiProps;return Object(h.createElement)(n,Object(p.a)({value:o,onChange:r,addRow:this.addRow,addCol:this.addCol,addImage:this.addImage,addLayer:this.addLayer,addMarkDown:this.addMarkDown,moveInDirection:this.moveInDirection,copyFocused:this.copyFocused,paste:this.paste,focusNode:function(t,n){return e.focusNode(o.byId[t],n)},removeFocused:this.removeFocused,updateBlock:this.updateBlock,undo:this.undo,redo:this.redo},a))},t.defaultProps={UiComponent:q},t}(h.Component),Q=(n(247),n(248),n(102)),Z=n(288),ee=n(289),te=n(295),ne=n(290),re=n(296),oe=n(291),ae=function(e){function t(){var e,n;Object(Z.a)(this,t);for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];return(n=Object(te.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(a)))).state={selectedMenu:null,selectedColor:null},n.toggleMenu=function(e){if(n.setState({selectedMenu:n.state.selectedMenu===e?null:e}),"color"===e||"backgroundColor"===e){var t=n.props.value,r=t.byId,o=t.focusedNodeId,a=o?r[o]:null;n.setState({selectedColor:a?a.color:void 0})}},n.renderColorMenuItem=function(e){var t=n.props.value,r=t.byId,a=t.focusedNodeId;if(a){var d=a?r[a]:null;return o.a.createElement(o.a.Fragment,null,o.a.createElement(de,{onClick:function(){return n.toggleMenu(e)},color:d[e]}),n.state.selectedMenu===e&&o.a.createElement("div",{style:{position:"absolute",zIndex:100,backgroundColor:"white"}},o.a.createElement("button",{className:n.props.buttonClassName,onClick:function(){n.props.updateBlock(a,Object(Q.a)({},e,void 0)),n.toggleMenu(e)}},"Clear"),o.a.createElement("button",{className:n.props.buttonClassName,onClick:function(){n.toggleMenu(e),n.props.updateBlock(a,Object(Q.a)({},e,n.state.selectedColor))}},"Done"),o.a.createElement(oe.SketchPicker,{color:n.state.selectedColor||void 0,onChangeComplete:function(e){var t=e.hex;n.setState({selectedColor:t})}})))}},n}return Object(re.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){var e=this.props,t=e.buttonClassName,n=e.breadCrumbsProps,r=e.value,a=r.byId,d=r.focusedNodeId,i=this.props,l=d?a[d]:null,c=i.focusNode,u=t;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("button",{"aria-label":"add row",className:u,onClick:function(){return i.addRow()}},"+ Row"),o.a.createElement("button",{"aria-label":"add column",className:u,onClick:function(){return i.addCol()}},"+ Col"),o.a.createElement("button",{"aria-label":"add layer",className:u,onClick:function(){return i.addLayer()}},"+ Layer"),o.a.createElement("button",{"aria-label":"add markdown",className:u,onClick:function(){return i.addMarkDown()}},"+ Text"),o.a.createElement("button",{"aria-label":"add image",className:u,onClick:function(){return i.addImage()}},"+ Image"),o.a.createElement("button",{"aria-label":"add image",className:u,onClick:function(){i.onChange(function(e,t){if(!t)return alert("Please select node to add table to"),e;var n=window.prompt("Enter number or rows (max 10)","5");if(null===n)return e;var r=window.prompt("Enter number or columns (max 10)","5");if(null===r)return e;var o=window.prompt("Enter table width (max 400)","300");if(null===o)return e;var a=window.prompt("Enter table height (max 400)","300");if(null===a)return e;var d=Math.min(parseInt(o,10),400),i=Math.min(parseInt(a,10),400),l=$(e,{width:d,height:i,parentId:t}),c=l.value,u=l.createdBlock;if(!u)return e;e=c;for(var s=u.id,p=Math.max(1,Math.min(parseInt(n,10),10)),h=Math.max(1,Math.min(parseInt(r,10),10)),f=0;f<p;++f){var m=Y(e,{height:i/p,parentId:s}),v=m.value,g=m.createdBlock;if(!g)break;e=v;for(var b=0;b<h;++b){var y=$(e,{parentId:g.id,height:g.height,width:g.width/h}),I=y.value,C=y.createdBlock;if(!C)break;e=I}}return e}(i.value,i.value.focusedNodeId))}},"+ Table"),o.a.createElement("button",{"aria-label":"undo",className:u,onClick:i.undo},"Undo"),o.a.createElement("button",{"aria-label":"redo",className:u,onClick:i.redo},"Redo")),l&&o.a.createElement("div",{style:{paddingLeft:15}},this.renderColorMenuItem("color"),this.renderColorMenuItem("backgroundColor"),o.a.createElement("button",{className:u,onClick:function(){return i.moveInDirection(l.id,"left")}},"\u2b05\ufe0f"),o.a.createElement("button",{className:u,onClick:function(){return i.moveInDirection(l.id,"right")}},"\u27a1\ufe0f"),o.a.createElement("button",{className:u,onClick:function(){return i.moveInDirection(l.id,"up")}},"\u2b06"),o.a.createElement("button",{className:u,onClick:function(){return i.moveInDirection(l.id,"down")}},"\u2b07"),o.a.createElement("button",{className:u,onClick:function(){return i.onChange(function(e,t){if(!t)return e;var n=e.byId,r=n[t];if(!r)return e;var o=r.parentId,a=n[o];return a?B(e,t,o,{afterItemId:a.childrenIds[a.childrenIds.length-1]}):e}(i.value,i.value.focusedNodeId))}},"FlipToFront"),o.a.createElement("button",{"aria-label":"copy",className:u,onClick:function(){return i.copyFocused()}},"Copy"),o.a.createElement("button",{"aria-label":"paste",className:u,onClick:function(){return i.paste()}},"Paste"),o.a.createElement("button",{"aria-label":"delete",onClick:i.removeFocused},"\ud83d\uddd1"),o.a.createElement("div",null,o.a.createElement(X,Object.assign({onSelect:function(e){return c(e,!0)},byId:a,node:l},n))),o.a.createElement("div",{style:{paddingBottom:20}},[{prop:"width",numeric:!0},{prop:"height",numeric:!0},{prop:"top",numeric:!0},{prop:"left",numeric:!0},{prop:"borderWidth",numeric:!0},{prop:"borderTopWidth",numeric:!0},{prop:"borderBottomWidth",numeric:!0},{prop:"borderLeftWidth",numeric:!0},{prop:"borderRightWidth",numeric:!0},{prop:"borderStyle",numeric:!1}].map(function(e){return o.a.createElement("div",{key:e.prop,style:{display:"inline-block",marginRight:10},className:"form-group"},o.a.createElement("label",{style:{marginRight:5},htmlFor:e.prop,className:"form-label"},e.prop),o.a.createElement("input",{name:e.prop,className:"form-control",key:"prop_"+e.prop,value:void 0===l[e.prop]?"":l[e.prop],onChange:(t=l.id,n=e.prop,r=e.numeric,function(e){i.updateBlock(t,Object(Q.a)({},n,r?e.target.value?parseInt(e.target.value,10):void 0:e.target.value))}),type:e.numeric?"numeric":void 0}));var t,n,r}))))}}]),t}(o.a.Component),de=function(e){return o.a.createElement("button",{style:{borderWidth:1,fontSize:11,borderStyle:"solid",justifyContent:"flex-start"},onClick:e.onClick},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{borderWidth:1,borderRadius:3,borderStyle:"solid",width:20,height:20,backgroundColor:e.color||void 0}}),"\xa0",e.color?"":"none"))};var ie=n(292);function le(e){var t=e.node,n=e.renderEditBlock,r=e.value,a=e.onChange;switch(t.type){case"custom":return function(e){switch(e.node.customType){case"input":return o.a.createElement(ue,{node:e.node,renderEditBlock:e.renderEditBlock,value:e.value,onChange:e.onChange});default:return o.a.createElement("div",null,"Unknown custom type ",e.node.customType)}}({node:t,renderEditBlock:n,value:r,onChange:a});default:return H({node:t,renderEditBlock:n,value:r,onChange:a})}}function ce(e){var t=e.node,n=e.byId,r=e.renderPreviewBlock;switch(t.type){case"custom":return function(e){switch(e.node.customType){case"input":return o.a.createElement(se,{key:e.node.id,node:e.node,renderPreviewBlock:e.renderPreviewBlock,byId:e.byId});default:return o.a.createElement("div",null,"Unknown custom type ",e.node.customType)}}({node:t,renderPreviewBlock:r,byId:n});default:return V({byId:n,renderPreviewBlock:r,node:t})}}var ue=function(e){var t=Object(r.useRef)(null),n=function(){return t&&t.current&&t.current.getBoundingClientRect?t.current.getBoundingClientRect():null};return o.a.createElement("div",{ref:t,draggable:!0,onDragStart:function(t){return R(t,e.node,n)},onClick:function(t){t.stopPropagation(),e.onChange(x(e.value,e.node,!0))},style:Object(ie.a)({display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"lightpink",width:e.node.width,height:e.node.height},e.value.focusedNodeId===e.node.id?{borderStyle:"dashed",borderWidth:1,borderColor:"orange"}:{})},o.a.createElement("input",{onChange:function(t){e.onChange(j(e.value,e.node.id,{value:t.target.value}))},placeholder:"edit placeholder",value:e.node.value||""}))},se=function(e){return o.a.createElement("input",{style:{width:e.node.width,height:e.node.height},placeholder:e.node.value})},pe=Object(l.a)(function(e){return{paper:{backgroundColor:"white",position:"absolute",top:"20%",left:"20%",width:"60%",padding:20},breadcrumbNav:{display:"flex",listStyleType:"none",backgroundColor:"#f5f5f5",padding:10,flexDirection:"row"},breadcrumbItem:{cursor:"pointer","&::before":{content:'"  /  "'},marginRight:5}}}),he=function(){var e=pe(),t=Object(r.useState)({copiedNode:null,focusedNodeId:"layer1",undoStack:[],redoStack:[],byId:{container1:{id:"container1",type:"col",name:"container1",parentId:null,width:500,height:300,childrenIds:["layer1"]},layer1:{id:"layer1",type:"layer",name:"layer1",parentId:"container1",width:510,height:310,childrenIds:["title","subheading","content","image1","row1"]},input1:{id:"input1",type:"custom",customType:"input",name:"input1",value:"First Name",parentId:"row1",width:100,height:40,childrenIds:[]},input2:{id:"input2",type:"custom",customType:"input",name:"input2",parentId:"row1",value:"Last Name",width:100,height:40,childrenIds:[]},title:{id:"title",type:"markdown",name:"title",parentId:"layer1",color:"#4A90E2",backgroundColor:"#E9E9E9",width:450,height:30,top:-10,left:10,value:"## Title",childrenIds:[]},subheading:{id:"subheading",type:"markdown",name:"subheading",parentId:"layer1",width:450,height:40,top:30,left:10,value:"#### Subheading",childrenIds:[]},image1:{id:"image1",type:"image",name:"image1",parentId:"layer1",width:200,height:200,top:90,left:10,value:"http://lorempixel.com/200/200/",childrenIds:[]},content:{id:"content",type:"markdown",name:"content",parentId:"layer1",width:240,height:40,top:90,left:220,value:"### Content",childrenIds:[]},row1:{id:"row1",type:"row",name:"row1",parentId:"layer1",width:240,height:40,top:230,left:220,childrenIds:["input1","input2"]}},rootNodeId:"container1"}),n=Object(i.a)(t,2),a=n[0],d=n[1],l=Object(r.useState)(!1),p=Object(i.a)(l,2),h=p[0],f=p[1],m=Object(r.useState)(!1),v=Object(i.a)(m,2),g=v[0],b=v[1],y=Object(r.useState)(""),I=Object(i.a)(y,2),C=I[0],w=I[1],k=function(){try{d(JSON.parse(C)),f(!1)}catch(e){console.error("Error loading from json",e),alert("Error loading from json: "+e)}};return o.a.createElement("div",null,o.a.createElement(u.a,{onClick:function(){return f(!0)}},"Load from json"),o.a.createElement(u.a,{onClick:function(){return b(!0)}},"View json"),o.a.createElement(K,{value:a,onChange:function(e){return console.log("VAL",e)||d(e)},UiComponent:ae}),o.a.createElement(c.a,{container:!0,spacing:3},o.a.createElement(c.a,{item:!0,md:6},o.a.createElement("div",{style:{marginLeft:10}},o.a.createElement(U,{renderEditBlock:le,value:a,onChange:d}))),o.a.createElement(c.a,{item:!0,md:6},o.a.createElement("div",{style:{marginRight:10,borderWidth:1,borderStyle:"dashed"}},o.a.createElement(A,{byId:a.byId,renderPreviewBlock:ce,node:a.byId[a.rootNodeId]})))),o.a.createElement(s.a,{"aria-labelledby":"view-json","aria-describedby":"view-json",open:g,onClose:function(){return b(!1)}},o.a.createElement("div",{className:e.paper},o.a.createElement(u.a,{onClick:function(){return b(!1)}},"Done"),o.a.createElement("div",null,"json:"),o.a.createElement("div",null,JSON.stringify(a)))),o.a.createElement(s.a,{"aria-labelledby":"load-from-json","aria-describedby":"load-from-json",open:h,onClose:k},o.a.createElement("div",{className:e.paper},o.a.createElement(u.a,{onClick:k},"Load"),o.a.createElement(u.a,{onClick:function(){return f(!1)}},"Cancel"),o.a.createElement("div",null,"json:"),o.a.createElement("br",null),o.a.createElement("textarea",{style:{height:200,width:"100%"},value:C,onChange:function(e){return w(e.target.value)}},JSON.stringify(a,null,2)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(o.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[298,1,2]]]);
//# sourceMappingURL=main.2c1613cc.chunk.js.map